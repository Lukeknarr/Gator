(()=>{var t={};t.id=931,t.ids=[931],t.modules={2934:t=>{"use strict";t.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:t=>{"use strict";t.exports=require("next/dist/client/components/request-async-storage.external")},4580:t=>{"use strict";t.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:t=>{"use strict";t.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:t=>{"use strict";t.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:t=>{"use strict";t.exports=require("assert")},6113:t=>{"use strict";t.exports=require("crypto")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3685:t=>{"use strict";t.exports=require("http")},5687:t=>{"use strict";t.exports=require("https")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},6224:t=>{"use strict";t.exports=require("tty")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},9796:t=>{"use strict";t.exports=require("zlib")},8600:(t,e,r)=>{"use strict";r.r(e),r.d(e,{GlobalError:()=>a.a,__next_app__:()=>d,originalPathname:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>u});var n=r(7096),i=r(6132),s=r(7284),a=r.n(s),o=r(2564),l={};for(let t in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(t)&&(l[t]=()=>o[t]);r.d(e,l);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3982)),"/Users/lukeknarr/Downloads/Gator_Project/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7897)),"/Users/lukeknarr/Downloads/Gator_Project/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/lukeknarr/Downloads/Gator_Project/frontend/app/page.tsx"],h="/page",d={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},8935:(t,e,r)=>{Promise.resolve().then(r.bind(r,8362))},7979:(t,e,r)=>{Promise.resolve().then(r.bind(r,3576)),Promise.resolve().then(r.bind(r,5256))},7639:(t,e,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},8362:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>ln});var n,i=r(3854),s=r(4218),a=r(1016),o=r(1701),l=r(302),u=r(3375),c=r(5785),h=r(4507),d=r(5355),p=class extends c.l{constructor(t,e){super(),this.#t=void 0,this.#e=void 0,this.#r=void 0,this.#n=new Set,this.options=e,this.#i=t,this.#s=null,this.#a=(0,h.O)(),this.options.experimental_prefetchInRender||this.#a.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#i;#t;#e;#r;#o;#l;#a;#s;#u;#c;#h;#d;#p;#f;#n;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#t.addObserver(this),f(this.#t,this.options)?this.#m():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#v(),this.#t.removeObserver(this)}setOptions(t){let e=this.options,r=this.#t;if(this.options=this.#i.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,d.Nc)(this.options.enabled,this.#t))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!(0,d.VS)(this.options,e)&&this.#i.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});let n=this.hasListeners();n&&g(this.#t,r,this.options,e)&&this.#m(),this.updateResult(),n&&(this.#t!==r||(0,d.Nc)(this.options.enabled,this.#t)!==(0,d.Nc)(e.enabled,this.#t)||(0,d.KC)(this.options.staleTime,this.#t)!==(0,d.KC)(e.staleTime,this.#t))&&this.#b();let i=this.#w();n&&(this.#t!==r||(0,d.Nc)(this.options.enabled,this.#t)!==(0,d.Nc)(e.enabled,this.#t)||i!==this.#f)&&this.#j(i)}getOptimisticResult(t){let e=this.#i.getQueryCache().build(this.#i,t),r=this.createResult(e,t);return(0,d.VS)(this.getCurrentResult(),r)||(this.#r=r,this.#l=this.options,this.#o=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(t,r)=>(this.trackProp(r),e?.(r),Reflect.get(t,r))})}trackProp(t){this.#n.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#i.defaultQueryOptions(t),r=this.#i.getQueryCache().build(this.#i,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#m({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#m(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(d.ZT)),e}#b(){this.#y();let t=(0,d.KC)(this.options.staleTime,this.#t);if(d.sk||this.#r.isStale||!(0,d.PN)(t))return;let e=(0,d.Kp)(this.#r.dataUpdatedAt,t);this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},e+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#j(t){this.#v(),this.#f=t,!d.sk&&!1!==(0,d.Nc)(this.options.enabled,this.#t)&&(0,d.PN)(this.#f)&&0!==this.#f&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||o.j.isFocused())&&this.#m()},this.#f))}#g(){this.#b(),this.#j(this.#w())}#y(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#v(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){let r;let n=this.#t,i=this.options,s=this.#r,a=this.#o,o=this.#l,l=t!==n,c=l?t.state:this.#e,{state:p}=t,m={...p},v=!1;if(e._optimisticResults){let r=this.hasListeners(),s=!r&&f(t,e),a=r&&g(t,n,e,i);(s||a)&&(m={...m,...(0,u.z)(p.data,t.options)}),"isRestoring"===e._optimisticResults&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:w}=m;r=m.data;let j=!1;if(void 0!==e.placeholderData&&void 0===r&&"pending"===w){let t;s?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(t=s.data,j=!0):t="function"==typeof e.placeholderData?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,void 0!==t&&(w="success",r=(0,d.oE)(s?.data,t,e),v=!0)}if(e.select&&void 0!==r&&!j){if(s&&r===a?.data&&e.select===this.#u)r=this.#c;else try{this.#u=e.select,r=e.select(r),r=(0,d.oE)(s?.data,r,e),this.#c=r,this.#s=null}catch(t){this.#s=t}}this.#s&&(x=this.#s,r=this.#c,b=Date.now(),w="error");let _="fetching"===m.fetchStatus,P="pending"===w,k="error"===w,N=P&&_,A=void 0!==r,S={status:w,fetchStatus:m.fetchStatus,isPending:P,isSuccess:"success"===w,isError:k,isInitialLoading:N,isLoading:N,data:r,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:_,isRefetching:_&&!P,isLoadingError:k&&!A,isPaused:"paused"===m.fetchStatus,isPlaceholderData:v,isRefetchError:k&&A,isStale:y(t,e),refetch:this.refetch,promise:this.#a,isEnabled:!1!==(0,d.Nc)(e.enabled,t)};if(this.options.experimental_prefetchInRender){let e=t=>{"error"===S.status?t.reject(S.error):void 0!==S.data&&t.resolve(S.data)},r=()=>{let t=this.#a=S.promise=(0,h.O)();e(t)},i=this.#a;switch(i.status){case"pending":t.queryHash===n.queryHash&&e(i);break;case"fulfilled":("error"===S.status||S.data!==i.value)&&r();break;case"rejected":("error"!==S.status||S.error!==i.reason)&&r()}}return S}updateResult(){let t=this.#r,e=this.createResult(this.#t,this.options);this.#o=this.#t.state,this.#l=this.options,void 0!==this.#o.data&&(this.#h=this.#t),(0,d.VS)(e,t)||(this.#r=e,this.#_({listeners:(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#n.size)return!0;let n=new Set(r??this.#n);return this.options.throwOnError&&n.add("error"),Object.keys(this.#r).some(e=>{let r=this.#r[e]!==t[e];return r&&n.has(e)})})()}))}#x(){let t=this.#i.getQueryCache().build(this.#i,this.options);if(t===this.#t)return;let e=this.#t;this.#t=t,this.#e=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#_(t){l.Vr.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#i.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function f(t,e){return!1!==(0,d.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&m(t,e,e.refetchOnMount)}function m(t,e,r){if(!1!==(0,d.Nc)(e.enabled,t)&&"static"!==(0,d.KC)(e.staleTime,t)){let n="function"==typeof r?r(t):r;return"always"===n||!1!==n&&y(t,e)}return!1}function g(t,e,r,n){return(t!==e||!1===(0,d.Nc)(n.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&y(t,r)}function y(t,e){return!1!==(0,d.Nc)(e.enabled,t)&&t.isStaleByTime((0,d.KC)(e.staleTime,t))}var v=r(6214),x=s.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),b=()=>s.useContext(x),w=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&!e.isReset()&&(t.retryOnMount=!1)},j=t=>{s.useEffect(()=>{t.clearReset()},[t])},_=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&void 0===t.data||(0,d.L3)(r,[t.error,n])),P=s.createContext(!1),k=()=>s.useContext(P);P.Provider;var N=t=>{if(t.suspense){let e=t=>"static"===t?t:Math.max(t??1e3,1e3),r=t.staleTime;t.staleTime="function"==typeof r?(...t)=>e(r(...t)):e(r),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3))}},A=(t,e)=>t.isLoading&&t.isFetching&&!e,S=(t,e)=>t?.suspense&&e.isPending,C=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function T(t,e){return function(t,e,r){let n=k(),i=b(),a=(0,v.NL)(r),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",N(o),w(o,i),j(i);let u=!a.getQueryCache().get(o.queryHash),[c]=s.useState(()=>new e(a,o)),h=c.getOptimisticResult(o),p=!n&&!1!==t.subscribed;if(s.useSyncExternalStore(s.useCallback(t=>{let e=p?c.subscribe(l.Vr.batchCalls(t)):d.ZT;return c.updateResult(),e},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),s.useEffect(()=>{c.setOptions(o)},[o,c]),S(o,h))throw C(o,c,i);if(_({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(o,h),o.experimental_prefetchInRender&&!d.sk&&A(h,n)){let t=u?C(o,c,i):a.getQueryCache().get(o.queryHash)?.promise;t?.catch(d.ZT).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?h:c.trackResult(h)}(t,p,e)}var E=r(9839);function M(){}function R(t){return null==t?M:function(){return this.querySelector(t)}}function V(){return[]}function D(t){return null==t?V:function(){return this.querySelectorAll(t)}}function L(t){return function(){return this.matches(t)}}function O(t){return function(e){return e.matches(t)}}var F=Array.prototype.find;function I(){return this.firstElementChild}var B=Array.prototype.filter;function $(){return Array.from(this.children)}function U(t){return Array(t.length)}function q(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function z(t,e,r,n,i,s){for(var a,o=0,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],n[o]=a):r[o]=new q(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function H(t,e,r,n,i,s,a){var o,l,u,c=new Map,h=e.length,d=s.length,p=Array(h);for(o=0;o<h;++o)(l=e[o])&&(p[o]=u=a.call(l,l.__data__,o,e)+"",c.has(u)?i[o]=l:c.set(u,l));for(o=0;o<d;++o)u=a.call(t,s[o],o,s)+"",(l=c.get(u))?(n[o]=l,l.__data__=s[o],c.delete(u)):r[o]=new q(t,s[o]);for(o=0;o<h;++o)(l=e[o])&&c.get(p[o])===l&&(i[o]=l)}function W(t){return t.__data__}function Q(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}q.prototype={constructor:q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var X="http://www.w3.org/1999/xhtml";let Y={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function G(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),Y.hasOwnProperty(e)?{space:Y[e],local:t}:t}function Z(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function K(t,e){return t.style.getPropertyValue(e)||Z(t).getComputedStyle(t,null).getPropertyValue(e)}function J(t){return t.trim().split(/^|\s+/)}function tt(t){return t.classList||new te(t)}function te(t){this._node=t,this._names=J(t.getAttribute("class")||"")}function tr(t,e){for(var r=tt(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function tn(t,e){for(var r=tt(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function ti(){this.textContent=""}function ts(){this.innerHTML=""}function ta(){this.nextSibling&&this.parentNode.appendChild(this)}function to(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tl(t){var e=G(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===X&&e.documentElement.namespaceURI===X?e.createElement(t):e.createElementNS(r,t)}})(e)}function tu(){return null}function tc(){var t=this.parentNode;t&&t.removeChild(this)}function th(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function td(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tp(t){return function(){var e=this.__on;if(e){for(var r,n=0,i=-1,s=e.length;n<s;++n)(r=e[n],t.type&&r.type!==t.type||r.name!==t.name)?e[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?e.length=i:delete this.__on}}}function tf(t,e,r){return function(){var n,i=this.__on,s=function(t){e.call(this,t,this.__data__)};if(i){for(var a=0,o=i.length;a<o;++a)if((n=i[a]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=s,n.options=r),n.value=e;return}}this.addEventListener(t.type,s,r),n={type:t.type,name:t.name,value:e,listener:s,options:r},i?i.push(n):this.__on=[n]}}function tm(t,e,r){var n=Z(t),i=n.CustomEvent;"function"==typeof i?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}te.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tg=[null];function Selection(t,e){this._groups=t,this._parents=e}function ty(){return new Selection([[document.documentElement]],tg)}Selection.prototype=ty.prototype={constructor:Selection,select:function(t){"function"!=typeof t&&(t=R(t));for(var e=this._groups,r=e.length,n=Array(r),i=0;i<r;++i)for(var s,a,o=e[i],l=o.length,u=n[i]=Array(l),c=0;c<l;++c)(s=o[c])&&(a=t.call(s,s.__data__,c,o))&&("__data__"in s&&(a.__data__=s.__data__),u[c]=a);return new Selection(n,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=D(t);for(var r=this._groups,n=r.length,i=[],s=[],a=0;a<n;++a)for(var o,l=r[a],u=l.length,c=0;c<u;++c)(o=l[c])&&(i.push(t.call(o,o.__data__,c,l)),s.push(o));return new Selection(i,s)},selectChild:function(t){var e;return this.select(null==t?I:(e="function"==typeof t?t:O(t),function(){return F.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?$:(e="function"==typeof t?t:O(t),function(){return B.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=L(t));for(var e=this._groups,r=e.length,n=Array(r),i=0;i<r;++i)for(var s,a=e[i],o=a.length,l=n[i]=[],u=0;u<o;++u)(s=a[u])&&t.call(s,s.__data__,u,a)&&l.push(s);return new Selection(n,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,W);var r=e?H:z,n=this._parents,i=this._groups;"function"!=typeof t&&(v=t,t=function(){return v});for(var s=i.length,a=Array(s),o=Array(s),l=Array(s),u=0;u<s;++u){var c=n[u],h=i[u],d=h.length,p="object"==typeof(y=t.call(c,c&&c.__data__,u,n))&&"length"in y?y:Array.from(y),f=p.length,m=o[u]=Array(f),g=a[u]=Array(f);r(c,h,m,g,l[u]=Array(d),p,e);for(var y,v,x,b,w=0,j=0;w<f;++w)if(x=m[w]){for(w>=j&&(j=w+1);!(b=g[j])&&++j<f;);x._next=b||null}}return(a=new Selection(a,n))._enter=o,a._exit=l,a},enter:function(){return new Selection(this._enter||this._groups.map(U),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(U),this._parents)},join:function(t,e,r){var n=this.enter(),i=this,s=this.exit();return"function"==typeof t?(n=t(n))&&(n=n.selection()):n=n.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==r?s.remove():r(s),n&&i?n.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,i=r.length,s=n.length,a=Math.min(i,s),o=Array(i),l=0;l<a;++l)for(var u,c=r[l],h=n[l],d=c.length,p=o[l]=Array(d),f=0;f<d;++f)(u=c[f]||h[f])&&(p[f]=u);for(;l<i;++l)o[l]=r[l];return new Selection(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,i=t[e],s=i.length-1,a=i[s];--s>=0;)(n=i[s])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(t){function e(e,r){return e&&r?t(e.__data__,r.__data__):!e-!r}t||(t=Q);for(var r=this._groups,n=r.length,i=Array(n),s=0;s<n;++s){for(var a,o=r[s],l=o.length,u=i[s]=Array(l),c=0;c<l;++c)(a=o[c])&&(u[c]=a);u.sort(e)}return new Selection(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,s=n.length;i<s;++i){var a=n[i];if(a)return a}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i,s=e[r],a=0,o=s.length;a<o;++a)(i=s[a])&&t.call(i,i.__data__,a,s);return this},attr:function(t,e){var r=G(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==e?r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?r.local?function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}:function(t,e){return function(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}:r.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(r,e))},style:function(t,e,r){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}:function(t,e,r){return function(){this.style.setProperty(t,e,r)}})(t,e,null==r?"":r)):K(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var r=J(t+"");if(arguments.length<2){for(var n=tt(this.node()),i=-1,s=r.length;++i<s;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?tr:tn)(this,t)}}:e?function(t){return function(){tr(this,t)}}:function(t){return function(){tn(this,t)}})(r,e))},text:function(t){return arguments.length?this.each(null==t?ti:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ts:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ta)},lower:function(){return this.each(to)},append:function(t){var e="function"==typeof t?t:tl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var r="function"==typeof t?t:tl(t),n=null==e?tu:"function"==typeof e?e:R(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(tc)},clone:function(t){return this.select(t?td:th)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var n,i,s=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}),a=s.length;if(arguments.length<2){var o=this.node().__on;if(o){for(var l,u=0,c=o.length;u<c;++u)for(n=0,l=o[u];n<a;++n)if((i=s[n]).type===l.type&&i.name===l.name)return l.value}return}for(n=0,o=e?tf:tp;n<a;++n)this.each(o(s[n],e,r));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return tm(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return tm(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n,i=t[e],s=0,a=i.length;s<a;++s)(n=i[s])&&(yield n)}};var tv={value:()=>{}};function tx(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw Error("illegal type: "+t);n[t]=[]}return new tb(n)}function tb(t){this._=t}function tw(t,e,r){for(var n=0,i=t.length;n<i;++n)if(t[n].name===e){t[n]=tv,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=r&&t.push({name:e,value:r}),t}tb.prototype=tx.prototype={constructor:tb,on:function(t,e){var r,n=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(t=i[s]).type)&&(r=function(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}(n[r],t.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++s<a;)if(r=(t=i[s]).type)n[r]=tw(n[r],t.name,e);else if(null==e)for(r in n)n[r]=tw(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new tb(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=Array(r),s=0;s<r;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(n=this._[t],s=0,r=n.length;s<r;++s)n[s].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var n=this._[t],i=0,s=n.length;i<s;++i)n[i].value.apply(e,r)}};var tj,t_,tP=0,tk=0,tN=0,tA=0,tS=0,tC=0,tT="object"==typeof performance&&performance.now?performance:Date,tE=function(t){setTimeout(t,17)};function tM(){return tS||(tE(tR),tS=tT.now()+tC)}function tR(){tS=0}function tV(){this._call=this._time=this._next=null}function tD(t,e,r){var n=new tV;return n.restart(t,e,r),n}function tL(){tS=(tA=tT.now())+tC,tP=tk=0;try{!function(){tM(),++tP;for(var t,e=tj;e;)(t=tS-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tP}()}finally{tP=0,function(){for(var t,e,r=tj,n=1/0;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:tj=e);t_=t,tF(n)}(),tS=0}}function tO(){var t=tT.now(),e=t-tA;e>1e3&&(tC-=e,tA=t)}function tF(t){!tP&&(tk&&(tk=clearTimeout(tk)),t-tS>24?(t<1/0&&(tk=setTimeout(tL,t-tT.now()-tC)),tN&&(tN=clearInterval(tN))):(tN||(tA=tT.now(),tN=setInterval(tO,1e3)),tP=1,tE(tL)))}function tI(t,e,r){var n=new tV;return e=null==e?0:+e,n.restart(r=>{n.stop(),t(r+e)},e,r),n}tV.prototype=tD.prototype={constructor:tV,restart:function(t,e,r){if("function"!=typeof t)throw TypeError("callback is not a function");r=(null==r?tM():+r)+(null==e?0:+e),this._next||t_===this||(t_?t_._next=this:tj=this,t_=this),this._call=t,this._time=r,tF()},stop:function(){this._call&&(this._call=null,this._time=1/0,tF())}};var tB=tx("start","end","cancel","interrupt"),t$=[];function tU(t,e,r,n,i,s){var a=t.__transition;if(a){if(r in a)return}else t.__transition={};(function(t,e,r){var n,i=t.__transition;function s(l){var u,c,h,d;if(1!==r.state)return o();for(u in i)if((d=i[u]).name===r.name){if(3===d.state)return tI(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(tI(function(){3===r.state&&(r.state=4,r.timer.restart(a,r.delay,r.time),a(l))}),r.state=2,r.on.call("start",t,t.__data__,r.index,r.group),2===r.state){for(u=0,r.state=3,n=Array(h=r.tween.length),c=-1;u<h;++u)(d=r.tween[u].value.call(t,t.__data__,r.index,r.group))&&(n[++c]=d);n.length=c+1}}function a(e){for(var i=e<r.duration?r.ease.call(null,e/r.duration):(r.timer.restart(o),r.state=5,1),s=-1,a=n.length;++s<a;)n[s].call(t,i);5===r.state&&(r.on.call("end",t,t.__data__,r.index,r.group),o())}function o(){for(var n in r.state=6,r.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=r,r.timer=tD(function(t){r.state=1,r.timer.restart(s,r.delay,r.time),r.delay<=t&&s(t-r.delay)},0,r.time)})(t,r,{name:e,index:n,group:i,on:tB,tween:t$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function tq(t,e){var r=tH(t,e);if(r.state>0)throw Error("too late; already scheduled");return r}function tz(t,e){var r=tH(t,e);if(r.state>3)throw Error("too late; already running");return r}function tH(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw Error("transition not found");return r}function tW(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var tQ=180/Math.PI,tX={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tY(t,e,r,n,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*r+e*n)&&(r-=t*l,n-=e*l),(o=Math.sqrt(r*r+n*n))&&(r/=o,n/=o,l/=o),t*n<e*r&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*tQ,skewX:Math.atan(l)*tQ,scaleX:a,scaleY:o}}function tG(t,e,r,n){function i(t){return t.length?t.pop()+" ":""}return function(s,a){var o,l,u,c,h=[],d=[];return s=t(s),a=t(a),function(t,n,i,s,a,o){if(t!==i||n!==s){var l=a.push("translate(",null,e,null,r);o.push({i:l-4,x:tW(t,i)},{i:l-2,x:tW(n,s)})}else(i||s)&&a.push("translate("+i+e+s+r)}(s.translateX,s.translateY,a.translateX,a.translateY,h,d),(o=s.rotate)!==(l=a.rotate)?(o-l>180?l+=360:l-o>180&&(o+=360),d.push({i:h.push(i(h)+"rotate(",null,n)-2,x:tW(o,l)})):l&&h.push(i(h)+"rotate("+l+n),(u=s.skewX)!==(c=a.skewX)?d.push({i:h.push(i(h)+"skewX(",null,n)-2,x:tW(u,c)}):c&&h.push(i(h)+"skewX("+c+n),function(t,e,r,n,s,a){if(t!==r||e!==n){var o=s.push(i(s)+"scale(",null,",",null,")");a.push({i:o-4,x:tW(t,r)},{i:o-2,x:tW(e,n)})}else(1!==r||1!==n)&&s.push(i(s)+"scale("+r+","+n+")")}(s.scaleX,s.scaleY,a.scaleX,a.scaleY,h,d),s=a=null,function(t){for(var e,r=-1,n=d.length;++r<n;)h[(e=d[r]).i]=e.x(t);return h.join("")}}}var tZ=tG(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?tX:tY(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),tK=tG(function(t){return null==t?tX:(n||(n=document.createElementNS("http://www.w3.org/2000/svg","g")),n.setAttribute("transform",t),t=n.transform.baseVal.consolidate())?tY((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):tX},", ",")",")");function tJ(t,e,r){var n=t._id;return t.each(function(){var t=tz(this,n);(t.value||(t.value={}))[e]=r.apply(this,arguments)}),function(t){return tH(t,n).value[e]}}function t0(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function t1(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function t2(){}var t3="\\s*([+-]?\\d+)\\s*",t5="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t6="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t4=/^#([0-9a-f]{3,8})$/,t7=RegExp(`^rgb\\(${t3},${t3},${t3}\\)$`),t9=RegExp(`^rgb\\(${t6},${t6},${t6}\\)$`),t8=RegExp(`^rgba\\(${t3},${t3},${t3},${t5}\\)$`),et=RegExp(`^rgba\\(${t6},${t6},${t6},${t5}\\)$`),ee=RegExp(`^hsl\\(${t5},${t6},${t6}\\)$`),er=RegExp(`^hsla\\(${t5},${t6},${t6},${t5}\\)$`),en={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ei(){return this.rgb().formatHex()}function es(){return this.rgb().formatRgb()}function ea(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=t4.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?eo(e):3===r?new ec(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?el(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?el(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=t7.exec(t))?new ec(e[1],e[2],e[3],1):(e=t9.exec(t))?new ec(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=t8.exec(t))?el(e[1],e[2],e[3],e[4]):(e=et.exec(t))?el(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ee.exec(t))?eg(e[1],e[2]/100,e[3]/100,1):(e=er.exec(t))?eg(e[1],e[2]/100,e[3]/100,e[4]):en.hasOwnProperty(t)?eo(en[t]):"transparent"===t?new ec(NaN,NaN,NaN,0):null}function eo(t){return new ec(t>>16&255,t>>8&255,255&t,1)}function el(t,e,r,n){return n<=0&&(t=e=r=NaN),new ec(t,e,r,n)}function eu(t,e,r,n){var i;return 1==arguments.length?((i=t)instanceof t2||(i=ea(i)),i)?new ec((i=i.rgb()).r,i.g,i.b,i.opacity):new ec:new ec(t,e,r,null==n?1:n)}function ec(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function eh(){return`#${em(this.r)}${em(this.g)}${em(this.b)}`}function ed(){let t=ep(this.opacity);return`${1===t?"rgb(":"rgba("}${ef(this.r)}, ${ef(this.g)}, ${ef(this.b)}${1===t?")":`, ${t})`}`}function ep(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ef(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function em(t){return((t=ef(t))<16?"0":"")+t.toString(16)}function eg(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ev(t,e,r,n)}function ey(t){if(t instanceof ev)return new ev(t.h,t.s,t.l,t.opacity);if(t instanceof t2||(t=ea(t)),!t)return new ev;if(t instanceof ev)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(a=e===s?(r-n)/o+(r<n)*6:r===s?(n-e)/o+2:(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ev(a,o,l,t.opacity)}function ev(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function ex(t){return(t=(t||0)%360)<0?t+360:t}function eb(t){return Math.max(0,Math.min(1,t||0))}function ew(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function ej(t,e,r,n,i){var s=t*t,a=s*t;return((1-3*t+3*s-a)*e+(4-6*s+3*a)*r+(1+3*t+3*s-3*a)*n+a*i)/6}t0(t2,ea,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ei,formatHex:ei,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ey(this).formatHsl()},formatRgb:es,toString:es}),t0(ec,eu,t1(t2,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new ec(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ec(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ec(ef(this.r),ef(this.g),ef(this.b),ep(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eh,formatHex:eh,formatHex8:function(){return`#${em(this.r)}${em(this.g)}${em(this.b)}${em((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ed,toString:ed})),t0(ev,function(t,e,r,n){return 1==arguments.length?ey(t):new ev(t,e,r,null==n?1:n)},t1(t2,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new ev(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new ev(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ec(ew(t>=240?t-240:t+120,i,n),ew(t,i,n),ew(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ev(ex(this.h),eb(this.s),eb(this.l),ep(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ep(this.opacity);return`${1===t?"hsl(":"hsla("}${ex(this.h)}, ${100*eb(this.s)}%, ${100*eb(this.l)}%${1===t?")":`, ${t})`}`}}));let e_=t=>()=>t;function eP(t,e){var r=e-t;return r?function(e){return t+e*r}:e_(isNaN(t)?e:t)}let ek=function t(e){var r,n=1==(r=+(r=e))?eP:function(t,e){var n,i,s;return e-t?(n=t,i=e,n=Math.pow(n,s=r),i=Math.pow(i,s)-n,s=1/s,function(t){return Math.pow(n+t*i,s)}):e_(isNaN(t)?e:t)};function i(t,e){var r=n((t=eu(t)).r,(e=eu(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),a=eP(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function eN(t){return function(e){var r,n,i=e.length,s=Array(i),a=Array(i),o=Array(i);for(r=0;r<i;++r)n=eu(e[r]),s[r]=n.r||0,a[r]=n.g||0,o[r]=n.b||0;return s=t(s),a=t(a),o=t(o),n.opacity=1,function(t){return n.r=s(t),n.g=a(t),n.b=o(t),n+""}}}eN(function(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],s=t[n+1],a=n>0?t[n-1]:2*i-s,o=n<e-1?t[n+2]:2*s-i;return ej((r-n/e)*e,a,i,s,o)}}),eN(function(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),i=t[(n+e-1)%e],s=t[n%e],a=t[(n+1)%e],o=t[(n+2)%e];return ej((r-n/e)*e,i,s,a,o)}});var eA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eS=RegExp(eA.source,"g");function eC(t,e){var r;return("number"==typeof e?tW:e instanceof ea?ek:(r=ea(e))?(e=r,ek):function(t,e){var r,n,i,s,a,o=eA.lastIndex=eS.lastIndex=0,l=-1,u=[],c=[];for(t+="",e+="";(i=eA.exec(t))&&(s=eS.exec(e));)(a=s.index)>o&&(a=e.slice(o,a),u[l]?u[l]+=a:u[++l]=a),(i=i[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,c.push({i:l,x:tW(i,s)})),o=eS.lastIndex;return o<e.length&&(a=e.slice(o),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?(r=c[0].x,function(t){return r(t)+""}):(n=e,function(){return n}):(e=c.length,function(t){for(var r,n=0;n<e;++n)u[(r=c[n]).i]=r.x(t);return u.join("")})})(t,e)}var eT=ty.prototype.constructor;function eE(t){return function(){this.style.removeProperty(t)}}var eM=0;function eR(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}var eV=ty.prototype;eR.prototype=(function(t){return ty().transition(t)}).prototype={constructor:eR,select:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=R(t));for(var n=this._groups,i=n.length,s=Array(i),a=0;a<i;++a)for(var o,l,u=n[a],c=u.length,h=s[a]=Array(c),d=0;d<c;++d)(o=u[d])&&(l=t.call(o,o.__data__,d,u))&&("__data__"in o&&(l.__data__=o.__data__),h[d]=l,tU(h[d],e,r,d,h,tH(o,r)));return new eR(s,this._parents,e,r)},selectAll:function(t){var e=this._name,r=this._id;"function"!=typeof t&&(t=D(t));for(var n=this._groups,i=n.length,s=[],a=[],o=0;o<i;++o)for(var l,u=n[o],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var d,p=t.call(l,l.__data__,h,u),f=tH(l,r),m=0,g=p.length;m<g;++m)(d=p[m])&&tU(d,e,r,m,p,f);s.push(p),a.push(l)}return new eR(s,a,e,r)},selectChild:eV.selectChild,selectChildren:eV.selectChildren,filter:function(t){"function"!=typeof t&&(t=L(t));for(var e=this._groups,r=e.length,n=Array(r),i=0;i<r;++i)for(var s,a=e[i],o=a.length,l=n[i]=[],u=0;u<o;++u)(s=a[u])&&t.call(s,s.__data__,u,a)&&l.push(s);return new eR(n,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,r=t._groups,n=e.length,i=r.length,s=Math.min(n,i),a=Array(n),o=0;o<s;++o)for(var l,u=e[o],c=r[o],h=u.length,d=a[o]=Array(h),p=0;p<h;++p)(l=u[p]||c[p])&&(d[p]=l);for(;o<n;++o)a[o]=e[o];return new eR(a,this._parents,this._name,this._id)},selection:function(){return new eT(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,r=++eM,n=this._groups,i=n.length,s=0;s<i;++s)for(var a,o=n[s],l=o.length,u=0;u<l;++u)if(a=o[u]){var c=tH(a,e);tU(a,t,r,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new eR(n,this._parents,t,r)},call:eV.call,nodes:eV.nodes,node:eV.node,size:eV.size,empty:eV.empty,each:eV.each,on:function(t,e){var r,n,i,s=this._id;return arguments.length<2?tH(this.node(),s).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?tq:tz,function(){var a=i(this,s),o=a.on;o!==r&&(n=(r=o).copy()).on(t,e),a.on=n}))},attr:function(t,e){var r=G(t),n="transform"===r?tK:eC;return this.attrTween(t,"function"==typeof e?(r.local?function(t,e,r){var n,i,s;return function(){var a,o,l=r(this);return null==l?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:a===n&&o===i?s:(i=o,s=e(n=a,l))}}:function(t,e,r){var n,i,s;return function(){var a,o,l=r(this);return null==l?void this.removeAttribute(t):(a=this.getAttribute(t))===(o=l+"")?null:a===n&&o===i?s:(i=o,s=e(n=a,l))}})(r,n,tJ(this,"attr."+t,e)):null==e?(r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(r):(r.local?function(t,e,r){var n,i,s=r+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===s?null:a===n?i:i=e(n=a,r)}}:function(t,e,r){var n,i,s=r+"";return function(){var a=this.getAttribute(t);return a===s?null:a===n?i:i=e(n=a,r)}})(r,n,e))},attrTween:function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();var n=G(t);return this.tween(r,(n.local?function(t,e){var r,n;function i(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}),r}return i._value=e,i}:function(t,e){var r,n;function i(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e){this.setAttribute(t,i.call(this,e))}),r}return i._value=e,i})(n,e))},style:function(t,e,r){var n,i,s,a,o,l,u,c,h,d,p,f,m,g,y,v,x,b,w,j,_,P="transform"==(t+="")?tZ:eC;return null==e?this.styleTween(t,(n=t,function(){var t=K(this,n),e=(this.style.removeProperty(n),K(this,n));return t===e?null:t===i&&e===s?a:a=P(i=t,s=e)})).on("end.style."+t,eE(t)):"function"==typeof e?this.styleTween(t,(o=t,l=tJ(this,"style."+t,e),function(){var t=K(this,o),e=l(this),r=e+"";return null==e&&(this.style.removeProperty(o),r=e=K(this,o)),t===r?null:t===u&&r===c?h:(c=r,h=P(u=t,e))})).each((d=this._id,x="end."+(v="style."+(p=t)),function(){var t=tz(this,d),e=t.on,r=null==t.value[v]?y||(y=eE(p)):void 0;(e!==f||g!==r)&&(m=(f=e).copy()).on(x,g=r),t.on=m})):this.styleTween(t,(b=t,_=e+"",function(){var t=K(this,b);return t===_?null:t===w?j:j=P(w=t,e)}),r).on("end.style."+t,null)},styleTween:function(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();return this.tween(n,function(t,e,r){var n,i;function s(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&function(e){this.style.setProperty(t,s.call(this,e),r)}),n}return s._value=e,s}(t,e,null==r?"":r))},text:function(t){var e,r;return this.tween("text","function"==typeof t?(e=tJ(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(r=null==t?"":t+"",function(){this.textContent=r}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,r;function n(){var n=t.apply(this,arguments);return n!==r&&(e=(r=n)&&function(t){this.textContent=n.call(this,t)}),e}return n._value=t,n}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n,i=tH(this.node(),r).tween,s=0,a=i.length;s<a;++s)if((n=i[s]).name===t)return n.value;return null}return this.each((null==e?function(t,e){var r,n;return function(){var i=tz(this,t),s=i.tween;if(s!==r){n=r=s;for(var a=0,o=n.length;a<o;++a)if(n[a].name===e){(n=n.slice()).splice(a,1);break}}i.tween=n}}:function(t,e,r){var n,i;if("function"!=typeof r)throw Error();return function(){var s=tz(this,t),a=s.tween;if(a!==n){i=(n=a).slice();for(var o={name:e,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}s.tween=i}})(r,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){tq(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){tq(this,t).delay=e}})(e,t)):tH(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){tz(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){tz(this,t).duration=e}})(e,t)):tH(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){tz(this,t).ease=e}}(e,t)):tH(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw Error();tz(this,e).ease=r}))},end:function(){var t,e,r=this,n=r._id,i=r.size();return new Promise(function(s,a){var o={value:a},l={value:function(){0==--i&&s()}};r.each(function(){var r=tz(this,n),i=r.on;i!==t&&((e=(t=i).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),r.on=e}),0===i&&s()})},[Symbol.iterator]:eV[Symbol.iterator]};var eD={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};ty.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var r,n,i,s=t.__transition,a=!0;if(s){for(i in e=null==e?null:e+"",s){if((r=s[i]).name!==e){a=!1;continue}n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete s[i]}a&&delete t.__transition}}(this,t)})},ty.prototype.transition=function(t){var e,r;t instanceof eR?(e=t._id,t=t._name):(e=++eM,(r=eD).time=tM(),t=null==t?null:t+"");for(var n=this._groups,i=n.length,s=0;s<i;++s)for(var a,o=n[s],l=o.length,u=0;u<l;++u)(a=o[u])&&tU(a,t,e,u,o,r||function(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return r}(a,e));return new eR(n,this._parents,t,e)};let{abs:eL,max:eO,min:eF}=Math;function eI(t){return[+t[0],+t[1]]}function eB(t){return{type:t}}["w","e"].map(eB),["n","s"].map(eB),["n","w","e","s","nw","ne","sw","se"].map(eB);function e$(t){return"string"==typeof t?new Selection([[document.querySelector(t)]],[document.documentElement]):new Selection([[t]],tg)}function eU(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,[(n=n.matrixTransform(e.getScreenCTM().inverse())).x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}let eq={passive:!1},ez={capture:!0,passive:!1};function eH(t){t.stopImmediatePropagation()}function eW(t){t.preventDefault(),t.stopImmediatePropagation()}let eQ=t=>()=>t;function DragEvent(t,{sourceEvent:e,subject:r,target:n,identifier:i,active:s,x:a,y:o,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}function eX(t){return!t.ctrlKey&&!t.button}function eY(){return this.parentNode}function eG(t,e){return null==e?{x:t.x,y:t.y}:e}function eZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function eK(t){return function(){return t}}function eJ(t){return(t()-.5)*1e-6}function e0(t){return t.index}function e1(t,e){var r=t.get(e);if(!r)throw Error("node not found: "+e);return r}function e2(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,s,a,o,l,u,c,h,d,p=t._root,f={data:n},m=t._x0,g=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((u=e>=(s=(m+y)/2))?m=s:y=s,(c=r>=(a=(g+v)/2))?g=a:v=a,i=p,!(p=p[h=c<<1|u]))return i[h]=f,t;if(o=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===o&&r===l)return f.next=p,i?i[h]=f:t._root=f,t;do i=i?i[h]=[,,,,]:t._root=[,,,,],(u=e>=(s=(m+y)/2))?m=s:y=s,(c=r>=(a=(g+v)/2))?g=a:v=a;while((h=c<<1|u)==(d=(l>=a)<<1|o>=s));return i[d]=p,i[h]=f,t}function e3(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function e5(t){return t[0]}function e6(t){return t[1]}function e4(t,e,r){var n=new e7(null==e?e5:e,null==r?e6:r,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function e7(t,e,r,n,i,s){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=s,this._root=void 0}function e9(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var e8=e4.prototype=e7.prototype;function rt(t){return t.x}function re(t){return t.y}e8.copy=function(){var t,e,r=new e7(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=e9(n),r;for(t=[{source:n,target:r._root=[,,,,]}];n=t.pop();)for(var i=0;i<4;++i)(e=n.source[i])&&(e.length?t.push({source:e,target:n.target[i]=[,,,,]}):n.target[i]=e9(e));return r},e8.add=function(t){let e=+this._x.call(null,t),r=+this._y.call(null,t);return e2(this.cover(e,r),e,r,t)},e8.addAll=function(t){var e,r,n,i,s=t.length,a=Array(s),o=Array(s),l=1/0,u=1/0,c=-1/0,h=-1/0;for(r=0;r<s;++r)!(isNaN(n=+this._x.call(null,e=t[r]))||isNaN(i=+this._y.call(null,e)))&&(a[r]=n,o[r]=i,n<l&&(l=n),n>c&&(c=n),i<u&&(u=i),i>h&&(h=i));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),r=0;r<s;++r)e2(this,a[r],o[r],t[r]);return this},e8.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,s=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,s=(n=Math.floor(e))+1;else{for(var a,o,l=i-r||1,u=this._root;r>t||t>=i||n>e||e>=s;)switch(o=(e<n)<<1|t<r,(a=[,,,,])[o]=u,u=a,l*=2,o){case 0:i=r+l,s=n+l;break;case 1:r=i-l,s=n+l;break;case 2:i=r+l,n=s-l;break;case 3:r=i-l,n=s-l}this._root&&this._root.length&&(this._root=u)}return this._x0=r,this._y0=n,this._x1=i,this._y1=s,this},e8.data=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},e8.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},e8.find=function(t,e,r){var n,i,s,a,o,l,u,c=this._x0,h=this._y0,d=this._x1,p=this._y1,f=[],m=this._root;for(m&&f.push(new e3(m,c,h,d,p)),null==r?r=1/0:(c=t-r,h=e-r,d=t+r,p=e+r,r*=r);l=f.pop();)if((m=l.node)&&!((i=l.x0)>d)&&!((s=l.y0)>p)&&!((a=l.x1)<c)&&!((o=l.y1)<h)){if(m.length){var g=(i+a)/2,y=(s+o)/2;f.push(new e3(m[3],g,y,a,o),new e3(m[2],i,y,g,o),new e3(m[1],g,s,a,y),new e3(m[0],i,s,g,y)),(u=(e>=y)<<1|t>=g)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-u],f[f.length-1-u]=l)}else{var v=t-+this._x.call(null,m.data),x=e-+this._y.call(null,m.data),b=v*v+x*x;if(b<r){var w=Math.sqrt(r=b);c=t-w,h=e-w,d=t+w,p=e+w,n=m.data}}}return n},e8.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,r,n,i,s,a,o,l,u,c,h,d,p=this._root,f=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((u=s>=(o=(f+g)/2))?f=o:g=o,(c=a>=(l=(m+y)/2))?m=l:y=l,e=p,!(p=p[h=c<<1|u]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(r=e,d=h)}for(;p.data!==t;)if(n=p,!(p=p.next))return this;return((i=p.next)&&delete p.next,n)?i?n.next=i:delete n.next:e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(r?r[d]=p:this._root=p)):this._root=i,this},e8.removeAll=function(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this},e8.root=function(){return this._root},e8.size=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},e8.visit=function(t){var e,r,n,i,s,a,o=[],l=this._root;for(l&&o.push(new e3(l,this._x0,this._y0,this._x1,this._y1));e=o.pop();)if(!t(l=e.node,n=e.x0,i=e.y0,s=e.x1,a=e.y1)&&l.length){var u=(n+s)/2,c=(i+a)/2;(r=l[3])&&o.push(new e3(r,u,c,s,a)),(r=l[2])&&o.push(new e3(r,n,c,u,a)),(r=l[1])&&o.push(new e3(r,u,i,s,c)),(r=l[0])&&o.push(new e3(r,n,i,u,c))}return this},e8.visitAfter=function(t){var e,r=[],n=[];for(this._root&&r.push(new e3(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var i=e.node;if(i.length){var s,a=e.x0,o=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,h=(o+u)/2;(s=i[0])&&r.push(new e3(s,a,o,c,h)),(s=i[1])&&r.push(new e3(s,c,o,l,h)),(s=i[2])&&r.push(new e3(s,a,h,c,u)),(s=i[3])&&r.push(new e3(s,c,h,l,u))}n.push(e)}for(;e=n.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},e8.x=function(t){return arguments.length?(this._x=t,this):this._x},e8.y=function(t){return arguments.length?(this._y=t,this):this._y};var rr=Math.PI*(3-Math.sqrt(5));function rn(t,e,r){this.k=t,this.x=e,this.y=r}rn.prototype={constructor:rn,scale:function(t){return 1===t?this:new rn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new rn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new rn(1,0,0),rn.prototype;let ri=(0,s.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),rs=(0,s.createContext)({}),ra=(0,s.createContext)(null),ro="undefined"!=typeof document,rl=ro?s.useLayoutEffect:s.useEffect,ru=(0,s.createContext)({strict:!1});function rc(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function rh(t){return"string"==typeof t||Array.isArray(t)}function rd(t){return"object"==typeof t&&"function"==typeof t.start}let rp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rf=["initial",...rp];function rm(t){return rd(t.animate)||rf.some(e=>rh(t[e]))}function rg(t){return!!(rm(t)||t.variants)}function ry(t){return Array.isArray(t)?t.join(" "):t}let rv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rx={};for(let t in rv)rx[t]={isEnabled:e=>rv[t].some(t=>!!e[t])};let rb=(0,s.createContext)({}),rw=(0,s.createContext)({}),rj=Symbol.for("motionComponentSymbol"),r_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rP(t){if("string"!=typeof t||t.includes("-"));else if(r_.indexOf(t)>-1||/[A-Z]/.test(t))return!0;return!1}let rk={},rN=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rA=new Set(rN);function rS(t,{layout:e,layoutId:r}){return rA.has(t)||t.startsWith("origin")||(e||void 0!==r)&&(!!rk[t]||"opacity"===t)}let rC=t=>!!(t&&t.getVelocity),rT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rE=rN.length,rM=t=>e=>"string"==typeof e&&e.startsWith(t),rR=rM("--"),rV=rM("var(--"),rD=(t,e)=>e&&"number"==typeof t?e.transform(t):t,rL=(t,e,r)=>Math.min(Math.max(r,t),e),rO={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},rF={...rO,transform:t=>rL(0,1,t)},rI={...rO,default:1},rB=t=>Math.round(1e5*t)/1e5,r$=/(-)?([\d]*\.?[\d])+/g,rU=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,rq=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function rz(t){return"string"==typeof t}let rH=t=>({test:e=>rz(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),rW=rH("deg"),rQ=rH("%"),rX=rH("px"),rY=rH("vh"),rG=rH("vw"),rZ={...rQ,parse:t=>rQ.parse(t)/100,transform:t=>rQ.transform(100*t)},rK={...rO,transform:Math.round},rJ={borderWidth:rX,borderTopWidth:rX,borderRightWidth:rX,borderBottomWidth:rX,borderLeftWidth:rX,borderRadius:rX,radius:rX,borderTopLeftRadius:rX,borderTopRightRadius:rX,borderBottomRightRadius:rX,borderBottomLeftRadius:rX,width:rX,maxWidth:rX,height:rX,maxHeight:rX,size:rX,top:rX,right:rX,bottom:rX,left:rX,padding:rX,paddingTop:rX,paddingRight:rX,paddingBottom:rX,paddingLeft:rX,margin:rX,marginTop:rX,marginRight:rX,marginBottom:rX,marginLeft:rX,rotate:rW,rotateX:rW,rotateY:rW,rotateZ:rW,scale:rI,scaleX:rI,scaleY:rI,scaleZ:rI,skew:rW,skewX:rW,skewY:rW,distance:rX,translateX:rX,translateY:rX,translateZ:rX,x:rX,y:rX,z:rX,perspective:rX,transformPerspective:rX,opacity:rF,originX:rZ,originY:rZ,originZ:rX,zIndex:rK,fillOpacity:rF,strokeOpacity:rF,numOctaves:rK};function r0(t,e,r,n){let{style:i,vars:s,transform:a,transformOrigin:o}=t,l=!1,u=!1,c=!0;for(let t in e){let r=e[t];if(rR(t)){s[t]=r;continue}let n=rJ[t],h=rD(r,n);if(rA.has(t)){if(l=!0,a[t]=h,!c)continue;r!==(n.default||0)&&(c=!1)}else t.startsWith("origin")?(u=!0,o[t]=h):i[t]=h}if(!e.transform&&(l||n?i.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let e=0;e<rE;e++){let r=rN[e];if(void 0!==t[r]){let e=rT[r]||r;s+=`${e}(${t[r]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}(t.transform,r,c,n):i.transform&&(i.transform="none")),u){let{originX:t="50%",originY:e="50%",originZ:r=0}=o;i.transformOrigin=`${t} ${e} ${r}`}}let r1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r2(t,e,r){for(let n in e)rC(e[n])||rS(n,r)||(t[n]=e[n])}function r3(t,e,r){let n={},i=function(t,e,r){let n=t.style||{},i={};return r2(i,n,t),Object.assign(i,function({transformTemplate:t},e,r){return(0,s.useMemo)(()=>{let n=r1();return r0(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}(t,e,r)),t.transformValues?t.transformValues(i):i}(t,e,r);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}let r5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function r6(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||r5.has(t)}let r4=t=>!r6(t);try{!function(t){t&&(r4=e=>e.startsWith("on")?!r6(e):t(e))}(require("@emotion/is-prop-valid").default)}catch(t){}function r7(t,e,r){return"string"==typeof t?t:rX.transform(e+r*t)}let r9={offset:"stroke-dashoffset",array:"stroke-dasharray"},r8={offset:"strokeDashoffset",array:"strokeDasharray"};function nt(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,h,d){if(r0(t,u,c,d),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:p,style:f,dimensions:m}=t;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==i||void 0!==s||f.transform)&&(f.transformOrigin=function(t,e,r){let n=r7(e,t.x,t.width),i=r7(r,t.y,t.height);return`${n} ${i}`}(m,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==e&&(p.x=e),void 0!==r&&(p.y=r),void 0!==n&&(p.scale=n),void 0!==a&&function(t,e,r=1,n=0,i=!0){t.pathLength=1;let s=i?r9:r8;t[s.offset]=rX.transform(-n);let a=rX.transform(e),o=rX.transform(r);t[s.array]=`${a} ${o}`}(p,a,o,l,!1)}let ne=()=>({...r1(),attrs:{}}),nr=t=>"string"==typeof t&&"svg"===t.toLowerCase();function nn(t,e,r,n){let i=(0,s.useMemo)(()=>{let r=ne();return nt(r,e,{enableHardwareAcceleration:!1},nr(n),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){let e={};r2(e,t.style,t),i.style={...e,...i.style}}return i}let ni=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function ns(t,{style:e,vars:r},n,i){for(let s in Object.assign(t.style,e,i&&i.getProjectionStyles(n)),r)t.style.setProperty(s,r[s])}let na=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function no(t,e,r,n){for(let r in ns(t,e,void 0,n),e.attrs)t.setAttribute(na.has(r)?r:ni(r),e.attrs[r])}function nl(t,e){let{style:r}=t,n={};for(let i in r)(rC(r[i])||e.style&&rC(e.style[i])||rS(i,t))&&(n[i]=r[i]);return n}function nu(t,e){let r=nl(t,e);for(let n in t)if(rC(t[n])||rC(e[n])){let e=-1!==rN.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[e]=t[n]}return r}function nc(t,e,r,n={},i={}){return"function"==typeof e&&(e=e(void 0!==r?r:t.custom,n,i)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==r?r:t.custom,n,i)),e}function nh(t){let e=(0,s.useRef)(null);return null===e.current&&(e.current=t()),e.current}let nd=t=>Array.isArray(t),np=t=>!!(t&&"object"==typeof t&&t.mix&&t.toValue),nf=t=>nd(t)?t[t.length-1]||0:t;function nm(t){let e=rC(t)?t.get():t;return np(e)?e.toValue():e}let ng=t=>(e,r)=>{let n=(0,s.useContext)(rs),i=(0,s.useContext)(ra),a=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){let a={latestValues:function(t,e,r,n){let i={},s=n(t,{});for(let t in s)i[t]=nm(s[t]);let{initial:a,animate:o}=t,l=rm(t),u=rg(t);e&&u&&!l&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===o&&(o=e.animate));let c=!!r&&!1===r.initial;c=c||!1===a;let h=c?o:a;if(h&&"boolean"!=typeof h&&!rd(h)){let e=Array.isArray(h)?h:[h];e.forEach(e=>{let r=nc(t,e);if(!r)return;let{transitionEnd:n,transition:s,...a}=r;for(let t in a){let e=a[t];if(Array.isArray(e)){let t=c?e.length-1:0;e=e[t]}null!==e&&(i[t]=e)}for(let t in n)i[t]=n[t]})}return i}(n,i,s,t),renderState:e()};return r&&(a.mount=t=>r(n,t,a)),a})(t,e,n,i);return r?a():nh(a)},ny=t=>t;class nv{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){let e=this.order.indexOf(t);-1!==e&&(this.order.splice(e,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}let nx=["prepare","read","update","preRender","render","postRender"],{schedule:nb,cancel:nw,state:nj,steps:n_}=function(t,e){let r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},s=nx.reduce((t,e)=>(t[e]=function(t){let e=new nv,r=new nv,n=0,i=!1,s=!1,a=new WeakSet,o={schedule:(t,s=!1,o=!1)=>{let l=o&&i,u=l?e:r;return s&&a.add(t),u.add(t)&&l&&i&&(n=e.order.length),t},cancel:t=>{r.remove(t),a.delete(t)},process:l=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length)for(let r=0;r<n;r++){let n=e.order[r];n(l),a.has(n)&&(o.schedule(n),t())}i=!1,s&&(s=!1,o.process(l))}};return o}(()=>r=!0),t),{}),a=t=>s[t].process(i),o=()=>{let s=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,nx.forEach(a),i.isProcessing=!1,r&&e&&(n=!1,t(o))},l=()=>{r=!0,n=!0,i.isProcessing||t(o)},u=nx.reduce((t,e)=>{let n=s[e];return t[e]=(t,e=!1,i=!1)=>(r||l(),n.schedule(t,e,i)),t},{});return{schedule:u,cancel:t=>nx.forEach(e=>s[e].cancel(t)),state:i,steps:s}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:ny,!0),nP={useVisualState:ng({scrapeMotionValuesFromProps:nu,createRenderState:ne,onMount:(t,e,{renderState:r,latestValues:n})=>{nb.read(()=>{try{r.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}}),nb.render(()=>{nt(r,n,{enableHardwareAcceleration:!1},nr(e.tagName),t.transformTemplate),no(e,r)})}})},nk={useVisualState:ng({scrapeMotionValuesFromProps:nl,createRenderState:r1})};function nN(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}let nA=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function nS(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}let nC=t=>e=>nA(e)&&t(e,nS(e));function nT(t,e,r,n){return nN(t,e,nC(r),n)}let nE=(t,e)=>r=>e(t(r)),nM=(...t)=>t.reduce(nE);function nR(t){let e=null;return()=>null===e&&(e=t,()=>{e=null})}let nV=nR("dragHorizontal"),nD=nR("dragVertical");function nL(t){let e=!1;if("y"===t)e=nD();else if("x"===t)e=nV();else{let t=nV(),r=nD();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function nO(){let t=nL(!0);return!t||(t(),!1)}class nF{constructor(t){this.isMounted=!1,this.node=t}update(){}}function nI(t,e){let r="onHover"+(e?"Start":"End");return nT(t.current,"pointer"+(e?"enter":"leave"),(n,i)=>{if("touch"===n.type||nO())return;let s=t.getProps();t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",e),s[r]&&nb.update(()=>s[r](n,i))},{passive:!t.getProps()[r]})}class nB extends nF{mount(){this.unmount=nM(nI(this.node,!0),nI(this.node,!1))}unmount(){}}class n$ extends nF{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nM(nN(this.node.current,"focus",()=>this.onFocus()),nN(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let nU=(t,e)=>!!e&&(t===e||nU(t,e.parentElement));function nq(t,e){if(!e)return;let r=new PointerEvent("pointer"+t);e(r,nS(r))}class nz extends nF{constructor(){super(...arguments),this.removeStartListeners=ny,this.removeEndListeners=ny,this.removeAccessibleListeners=ny,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;let r=this.node.getProps(),n=nT(window,"pointerup",(t,e)=>{if(!this.checkPressEnd())return;let{onTap:r,onTapCancel:n}=this.node.getProps();nb.update(()=>{nU(this.node.current,t.target)?r&&r(t,e):n&&n(t,e)})},{passive:!(r.onTap||r.onPointerUp)}),i=nT(window,"pointercancel",(t,e)=>this.cancelPress(t,e),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=nM(n,i),this.startPress(t,e)},this.startAccessiblePress=()=>{let t=nN(this.node.current,"keydown",t=>{"Enter"!==t.key||this.isPressing||(this.removeEndListeners(),this.removeEndListeners=nN(this.node.current,"keyup",t=>{"Enter"===t.key&&this.checkPressEnd()&&nq("up",(t,e)=>{let{onTap:r}=this.node.getProps();r&&nb.update(()=>r(t,e))})}),nq("down",(t,e)=>{this.startPress(t,e)}))}),e=nN(this.node.current,"blur",()=>{this.isPressing&&nq("cancel",(t,e)=>this.cancelPress(t,e))});this.removeAccessibleListeners=nM(t,e)}}startPress(t,e){this.isPressing=!0;let{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&nb.update(()=>r(t,e))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;let t=this.node.getProps();return t.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nO()}cancelPress(t,e){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&nb.update(()=>r(t,e))}mount(){let t=this.node.getProps(),e=nT(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=nN(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nM(e,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}let nH=new WeakMap,nW=new WeakMap,nQ=t=>{let e=nH.get(t.target);e&&e(t)},nX=t=>{t.forEach(nQ)},nY={some:0,all:1};class nG extends nF{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:n="some",once:i}=t,s={root:e?e.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:nY[n]};return function(t,e,r){let n=function({root:t,...e}){let r=t||document;nW.has(r)||nW.set(r,{});let n=nW.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(nX,{root:t,...e})),n[i]}(e);return nH.set(t,r),n.observe(t),()=>{nH.delete(t),n.unobserve(t)}}(this.node.current,s,t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,i&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),s=e?r:n;s&&s(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node,r=["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}(t,e));r&&this.startObserver()}unmount(){}}function nZ(t,e){if(!Array.isArray(e))return!1;let r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function nK(t,e,r){let n=t.getProps();return nc(n,e,void 0!==r?r:n.custom,function(t){let e={};return t.values.forEach((t,r)=>e[r]=t.get()),e}(t),function(t){let e={};return t.values.forEach((t,r)=>e[r]=t.getVelocity()),e}(t))}let nJ="data-"+ni("framerAppearId"),n0=t=>1e3*t,n1=t=>t/1e3,n2={current:!1},n3=t=>Array.isArray(t)&&"number"==typeof t[0],n5=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,n6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:n5([0,.65,.55,1]),circOut:n5([.55,0,1,.45]),backIn:n5([.31,.01,.66,-.59]),backOut:n5([.33,1.53,.69,.99])},n4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t;function n7(t,e,r,n){if(t===e&&r===n)return ny;let i=e=>(function(t,e,r,n,i){let s,a;let o=0;do(s=n4(a=e+(r-e)/2,n,i)-t)>0?r=a:e=a;while(Math.abs(s)>1e-7&&++o<12);return a})(e,0,1,t,r);return t=>0===t||1===t?t:n4(i(t),e,n)}let n9=n7(.42,0,1,1),n8=n7(0,0,.58,1),it=n7(.42,0,.58,1),ie=t=>Array.isArray(t)&&"number"!=typeof t[0],ir=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ii=t=>e=>1-t(1-e),is=t=>1-Math.sin(Math.acos(t)),ia=ii(is),io=ir(ia),il=n7(.33,1.53,.69,.99),iu=ii(il),ic=ir(iu),ih={linear:ny,easeIn:n9,easeInOut:it,easeOut:n8,circIn:is,circInOut:io,circOut:ia,backIn:iu,backInOut:ic,backOut:il,anticipate:t=>(t*=2)<1?.5*iu(t):.5*(2-Math.pow(2,-10*(t-1)))},id=t=>{if(Array.isArray(t)){ny(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,r,n,i]=t;return n7(e,r,n,i)}return"string"==typeof t?(ny(void 0!==ih[t],`Invalid easing type '${t}'`),ih[t]):t},ip=(t,e)=>r=>!!(rz(r)&&rq.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),im=(t,e,r)=>n=>{if(!rz(n))return n;let[i,s,a,o]=n.match(r$);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},ig=t=>rL(0,255,t),iy={...rO,transform:t=>Math.round(ig(t))},iv={test:ip("rgb","red"),parse:im("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+iy.transform(t)+", "+iy.transform(e)+", "+iy.transform(r)+", "+rB(rF.transform(n))+")"},ix={test:ip("#"),parse:function(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:iv.transform},ib={test:ip("hsl","hue"),parse:im("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+rQ.transform(rB(e))+", "+rQ.transform(rB(r))+", "+rB(rF.transform(n))+")"},iw={test:t=>iv.test(t)||ix.test(t)||ib.test(t),parse:t=>iv.test(t)?iv.parse(t):ib.test(t)?ib.parse(t):ix.parse(t),transform:t=>rz(t)?t:t.hasOwnProperty("red")?iv.transform(t):ib.transform(t)},ij=(t,e,r)=>-r*t+r*e+t;function i_(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}let iP=(t,e,r)=>{let n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},ik=[ix,iv,ib],iN=t=>ik.find(e=>e.test(t));function iA(t){let e=iN(t);ny(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`);let r=e.parse(t);return e===ib&&(r=function({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,r/=100;let i=0,s=0,a=0;if(e/=100){let n=r<.5?r*(1+e):r+e-r*e,o=2*r-n;i=i_(o,n,t+1/3),s=i_(o,n,t),a=i_(o,n,t-1/3)}else i=s=a=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:n}}(r)),r}let iS=(t,e)=>{let r=iA(t),n=iA(e),i={...r};return t=>(i.red=iP(r.red,n.red,t),i.green=iP(r.green,n.green,t),i.blue=iP(r.blue,n.blue,t),i.alpha=ij(r.alpha,n.alpha,t),iv.transform(i))},iC={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:ny},iT={regex:rU,countKey:"Colors",token:"${c}",parse:iw.parse},iE={regex:r$,countKey:"Numbers",token:"${n}",parse:rO.parse};function iM(t,{regex:e,countKey:r,token:n,parse:i}){let s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function iR(t){let e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&iM(r,iC),iM(r,iT),iM(r,iE),r}function iV(t){return iR(t).values}function iD(t){let{values:e,numColors:r,numVars:n,tokenised:i}=iR(t),s=e.length;return t=>{let e=i;for(let i=0;i<s;i++)e=i<n?e.replace(iC.token,t[i]):i<n+r?e.replace(iT.token,iw.transform(t[i])):e.replace(iE.token,rB(t[i]));return e}}let iL=t=>"number"==typeof t?0:t,iO={test:function(t){var e,r;return isNaN(t)&&rz(t)&&((null===(e=t.match(r$))||void 0===e?void 0:e.length)||0)+((null===(r=t.match(rU))||void 0===r?void 0:r.length)||0)>0},parse:iV,createTransformer:iD,getAnimatableNone:function(t){let e=iV(t),r=iD(t);return r(e.map(iL))}},iF=(t,e)=>r=>`${r>0?e:t}`;function iI(t,e){return"number"==typeof t?r=>ij(t,e,r):iw.test(t)?iS(t,e):t.startsWith("var(")?iF(t,e):iU(t,e)}let iB=(t,e)=>{let r=[...t],n=r.length,i=t.map((t,r)=>iI(t,e[r]));return t=>{for(let e=0;e<n;e++)r[e]=i[e](t);return r}},i$=(t,e)=>{let r={...t,...e},n={};for(let i in r)void 0!==t[i]&&void 0!==e[i]&&(n[i]=iI(t[i],e[i]));return t=>{for(let e in n)r[e]=n[e](t);return r}},iU=(t,e)=>{let r=iO.createTransformer(e),n=iR(t),i=iR(e),s=n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers;return s?nM(iB(n.values,i.values),r):(ny(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),iF(t,e))},iq=(t,e,r)=>{let n=e-t;return 0===n?1:(r-t)/n},iz=(t,e)=>r=>ij(t,e,r);function iH(t,e,{clamp:r=!0,ease:n,mixer:i}={}){let s=t.length;if(ny(s===e.length,"Both input and output ranges must be the same length"),1===s)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());let a=function(t,e,r){let n=[],i=r||function(t){if("number"==typeof t);else if("string"==typeof t)return iw.test(t)?iS:iU;else if(Array.isArray(t))return iB;else if("object"==typeof t)return i$;return iz}(t[0]),s=t.length-1;for(let r=0;r<s;r++){let s=i(t[r],t[r+1]);if(e){let t=Array.isArray(e)?e[r]||ny:e;s=nM(t,s)}n.push(s)}return n}(e,n,i),o=a.length,l=e=>{let r=0;if(o>1)for(;r<t.length-2&&!(e<t[r+1]);r++);let n=iq(t[r],t[r+1],e);return a[r](n)};return r?e=>l(rL(t[0],t[s-1],e)):l}function iW({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){let i=ie(n)?n.map(id):id(n),s={done:!1,value:e[0]},a=(r&&r.length===e.length?r:function(t){let e=[0];return function(t,e){let r=t[t.length-1];for(let n=1;n<=e;n++){let i=iq(0,e,n);t.push(ij(r,1,i))}}(e,t.length-1),e}(e)).map(e=>e*t),o=iH(a,e,{ease:Array.isArray(i)?i:e.map(()=>i||it).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(s.value=o(e),s.done=e>=t,s)}}function iQ(t,e,r){var n,i;let s=Math.max(e-5,0);return n=r-t(s),(i=e-s)?n*(1e3/i):0}function iX(t,e){return t*Math.sqrt(1-e*e)}let iY=["duration","bounce"],iG=["stiffness","damping","mass"];function iZ(t,e){return e.some(e=>void 0!==t[e])}function iK({keyframes:t,restDelta:e,restSpeed:r,...n}){let i;let s=t[0],a=t[t.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,velocity:h,duration:d,isResolvedFromDuration:p}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!iZ(t,iG)&&iZ(t,iY)){let r=function({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s;ny(t<=n0(10),"Spring duration must be 10 seconds or less");let a=1-e;a=rL(.05,1,a),t=rL(.01,10,n1(t)),a<1?(i=e=>{let n=e*a,i=n*t,s=iX(e,a);return .001-(n-r)/s*Math.exp(-i)},s=e=>{let n=e*a,s=n*t,o=Math.pow(a,2)*Math.pow(e,2)*t,l=iX(Math.pow(e,2),a),u=-i(e)+.001>0?-1:1;return u*((s*r+r-o)*Math.exp(-s))/l}):(i=e=>{let n=Math.exp(-e*t),i=(e-r)*t+1;return -.001+n*i},s=e=>{let n=Math.exp(-e*t),i=(r-e)*(t*t);return n*i});let o=5/t,l=function(t,e,r){let n=r;for(let r=1;r<12;r++)n-=t(n)/e(n);return n}(i,s,o);if(t=n0(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{let e=Math.pow(l,2)*n;return{stiffness:e,damping:2*a*Math.sqrt(n*e),duration:t}}}(t);(e={...e,...r,velocity:0,mass:1}).isResolvedFromDuration=!0}return e}(n),f=h?-n1(h):0,m=u/(2*Math.sqrt(l*c)),g=a-s,y=n1(Math.sqrt(l/c)),v=5>Math.abs(g);if(r||(r=v?.01:2),e||(e=v?.005:.5),m<1){let t=iX(y,m);i=e=>{let r=Math.exp(-m*y*e);return a-r*((f+m*y*g)/t*Math.sin(t*e)+g*Math.cos(t*e))}}else if(1===m)i=t=>a-Math.exp(-y*t)*(g+(f+y*g)*t);else{let t=y*Math.sqrt(m*m-1);i=e=>{let r=Math.exp(-m*y*e),n=Math.min(t*e,300);return a-r*((f+m*y*g)*Math.sinh(n)+t*g*Math.cosh(n))/t}}return{calculatedDuration:p&&d||null,next:t=>{let n=i(t);if(p)o.done=t>=d;else{let s=f;0!==t&&(s=m<1?iQ(i,t,n):0);let l=Math.abs(s)<=r,u=Math.abs(a-n)<=e;o.done=l&&u}return o.value=o.done?a:n,o}}}function iJ({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let h,d;let p=t[0],f={done:!1,value:p},m=t=>void 0!==o&&t<o||void 0!==l&&t>l,g=t=>void 0===o?l:void 0===l?o:Math.abs(o-t)<Math.abs(l-t)?o:l,y=r*e,v=p+y,x=void 0===a?v:a(v);x!==v&&(y=x-p);let b=t=>-y*Math.exp(-t/n),w=t=>x+b(t),j=t=>{let e=b(t),r=w(t);f.done=Math.abs(e)<=u,f.value=f.done?x:r},_=t=>{m(f.value)&&(h=t,d=iK({keyframes:[f.value,g(f.value)],velocity:iQ(w,t,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return _(0),{calculatedDuration:null,next:t=>{let e=!1;return(d||void 0!==h||(e=!0,j(t),_(t)),void 0!==h&&t>h)?d.next(t-h):(e||j(t),f)}}}let i0=t=>{let e=({timestamp:e})=>t(e);return{start:()=>nb.update(e,!0),stop:()=>nw(e),now:()=>nj.isProcessing?nj.timestamp:performance.now()}};function i1(t){let e=0,r=t.next(e);for(;!r.done&&e<2e4;)e+=50,r=t.next(e);return e>=2e4?1/0:e}let i2={decay:iJ,inertia:iJ,tween:iW,keyframes:iW,spring:iK};function i3({autoplay:t=!0,delay:e=0,driver:r=i0,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let p,f,m,g,y,v=1,x=!1,b=()=>{f=new Promise(t=>{p=t})};b();let w=i2[i]||iW;w!==iW&&"number"!=typeof n[0]&&(g=iH([0,100],n,{clamp:!1}),n=[0,100]);let j=w({...d,keyframes:n});"mirror"===o&&(y=w({...d,keyframes:[...n].reverse(),velocity:-(d.velocity||0)}));let _="idle",P=null,k=null,N=null;null===j.calculatedDuration&&s&&(j.calculatedDuration=i1(j));let{calculatedDuration:A}=j,S=1/0,C=1/0;null!==A&&(C=(S=A+a)*(s+1)-a);let T=0,E=t=>{if(null===k)return;v>0&&(k=Math.min(k,t)),v<0&&(k=Math.min(t-C/v,k)),T=null!==P?P:Math.round(t-k)*v;let r=T-e*(v>=0?1:-1),i=v>=0?r<0:r>C;T=Math.max(r,0),"finished"===_&&null===P&&(T=C);let l=T,u=j;if(s){let t=T/S,e=Math.floor(t),r=t%1;!r&&t>=1&&(r=1),1===r&&e--,e=Math.min(e,s+1);let n=!!(e%2);n&&("reverse"===o?(r=1-r,a&&(r-=a/S)):"mirror"===o&&(u=y));let i=rL(0,1,r);T>C&&(i="reverse"===o&&n?1:0),l=i*S}let c=i?{done:!1,value:n[0]}:u.next(l);g&&(c.value=g(c.value));let{done:d}=c;i||null===A||(d=v>=0?T>=C:T<=0);let p=null===P&&("finished"===_||"running"===_&&d);return h&&h(c.value),p&&V(),c},M=()=>{m&&m.stop(),m=void 0},R=()=>{_="idle",M(),p(),b(),k=N=null},V=()=>{_="finished",c&&c(),M(),p()},D=()=>{if(x)return;m||(m=r(E));let t=m.now();l&&l(),null!==P?k=t-P:k&&"finished"!==_||(k=t),"finished"===_&&b(),N=k,P=null,_="running",m.start()};t&&D();let L={then:(t,e)=>f.then(t,e),get time(){return n1(T)},set time(newTime){T=newTime=n0(newTime),null===P&&m&&0!==v?k=m.now()-newTime/v:P=newTime},get duration(){let t=null===j.calculatedDuration?i1(j):j.calculatedDuration;return n1(t)},get speed(){return v},set speed(newSpeed){if(newSpeed===v||!m)return;v=newSpeed,L.time=n1(T)},get state(){return _},play:D,pause:()=>{_="paused",P=T},stop:()=>{x=!0,"idle"!==_&&(_="idle",u&&u(),R())},cancel:()=>{null!==N&&E(N),R()},complete:()=>{_="finished"},sample:t=>(k=0,E(t))};return L}let i5=function(t){let e;return()=>(void 0===e&&(e=t()),e)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),i6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),i4=(t,e)=>"spring"===e.type||"backgroundColor"===t||!function t(e){return!!(!e||"string"==typeof e&&n6[e]||n3(e)||Array.isArray(e)&&e.every(t))}(e.ease),i7={type:"spring",stiffness:500,damping:25,restSpeed:10},i9=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),i8={type:"keyframes",duration:.8},st={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},se=(t,{keyframes:e})=>e.length>2?i8:rA.has(t)?t.startsWith("scale")?i9(e[1]):i7:st,sr=(t,e)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(iO.test(e)||"0"===e)&&!e.startsWith("url(")),sn=new Set(["brightness","contrast","saturate","opacity"]);function si(t){let[e,r]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[n]=r.match(r$)||[];if(!n)return t;let i=r.replace(n,""),s=sn.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}let ss=/([a-z-]*)\(.*?\)/g,sa={...iO,getAnimatableNone:t=>{let e=t.match(ss);return e?e.map(si).join(" "):t}},so={...rJ,color:iw,backgroundColor:iw,outlineColor:iw,fill:iw,stroke:iw,borderColor:iw,borderTopColor:iw,borderRightColor:iw,borderBottomColor:iw,borderLeftColor:iw,filter:sa,WebkitFilter:sa},sl=t=>so[t];function su(t,e){let r=sl(t);return r!==sa&&(r=iO),r.getAnimatableNone?r.getAnimatableNone(e):void 0}let sc=t=>/^0[^.\s]+$/.test(t);function sh(t,e){return t[e]||t.default||t}let sd=(t,e,r,n={})=>i=>{let s=sh(n,t)||{},a=s.delay||n.delay||0,{elapsed:o=0}=n;o-=n0(a);let l=function(t,e,r,n){let i,s;let a=sr(e,r);i=Array.isArray(r)?[...r]:[null,r];let o=void 0!==n.from?n.from:t.get(),l=[];for(let t=0;t<i.length;t++){var u;null===i[t]&&(i[t]=0===t?o:i[t-1]),("number"==typeof(u=i[t])?0===u:null!==u?"none"===u||"0"===u||sc(u):void 0)&&l.push(t),"string"==typeof i[t]&&"none"!==i[t]&&"0"!==i[t]&&(s=i[t])}if(a&&l.length&&s)for(let t=0;t<l.length;t++){let r=l[t];i[r]=su(e,s)}return i}(e,t,r,s),u=l[0],c=l[l.length-1],h=sr(t,u),d=sr(t,c);ny(h===d,`You are trying to animate ${t} from "${u}" to "${c}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${c} via the \`style\` property.`);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:t=>{e.set(t),s.onUpdate&&s.onUpdate(t)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!function({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(s)&&(p={...p,...se(t,p)}),p.duration&&(p.duration=n0(p.duration)),p.repeatDelay&&(p.repeatDelay=n0(p.repeatDelay)),!h||!d||n2.current||!1===s.type)return function({keyframes:t,delay:e,onUpdate:r,onComplete:n}){let i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ny,pause:ny,stop:ny,then:t=>(t(),Promise.resolve()),cancel:ny,complete:ny});return e?i3({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}(n2.current?{...p,delay:0}:p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){let r=function(t,e,{onUpdate:r,onComplete:n,...i}){let s,a;let o=i5()&&i6.has(e)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type;if(!o)return!1;let l=!1,u=()=>{a=new Promise(t=>{s=t})};u();let{keyframes:c,duration:h=300,ease:d,times:p}=i;if(i4(e,i)){let t=i3({...i,repeat:0,delay:0}),e={done:!1,value:c[0]},r=[],n=0;for(;!e.done&&n<2e4;)e=t.sample(n),r.push(e.value),n+=10;p=void 0,c=r,h=n-10,d="linear"}let f=function(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){let u={[e]:r};l&&(u.offset=l);let c=function t(e){if(e)return n3(e)?n5(e):Array.isArray(e)?e.map(t):n6[e]}(o);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(t.owner.current,e,c,{...i,duration:h,ease:d,times:p});i.syncStart&&(f.startTime=nj.isProcessing?nj.timestamp:document.timeline?document.timeline.currentTime:performance.now());let m=()=>f.cancel(),g=()=>{nb.update(m),s(),u()};return f.onfinish=()=>{t.set(function(t,{repeat:e,repeatType:r="loop"}){let n=e&&"loop"!==r&&e%2==1?0:t.length-1;return t[n]}(c,i)),n&&n(),g()},{then:(t,e)=>a.then(t,e),attachTimeline:t=>(f.timeline=t,f.onfinish=null,ny),get time(){return n1(f.currentTime||0)},set time(newTime){f.currentTime=n0(newTime)},get speed(){return f.playbackRate},set speed(newSpeed){f.playbackRate=newSpeed},get duration(){return n1(h)},play:()=>{l||(f.play(),nw(m))},pause:()=>f.pause(),stop:()=>{if(l=!0,"idle"===f.playState)return;let{currentTime:e}=f;if(e){let r=i3({...i,autoplay:!1});t.setWithVelocity(r.sample(e-10).value,r.sample(e).value,10)}g()},complete:()=>f.finish(),cancel:g}}(e,t,p);if(r)return r}return i3(p)};function sp(t){return!!(rC(t)&&t.add)}let sf=t=>/^\-?\d*\.?\d+$/.test(t);function sm(t,e){-1===t.indexOf(e)&&t.push(e)}function sg(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}class sy{constructor(){this.subscriptions=[]}add(t){return sm(this.subscriptions,t),()=>sg(this.subscriptions,t)}notify(t,e,r){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](t,e,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(t,e,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let sv=t=>!isNaN(parseFloat(t)),sx={current:void 0};class sb{constructor(t,e={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;let{delta:r,timestamp:n}=nj;this.lastUpdated!==n&&(this.timeDelta=r,this.lastUpdated=n,nb.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nb.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=sv(this.current),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new sy);let r=this.events[t].add(e);return"change"===t?()=>{r(),nb.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,r){this.set(e),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return sx.current&&sx.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t,e;return this.canTrackVelocity?(t=parseFloat(this.current)-parseFloat(this.prev),(e=this.timeDelta)?t*(1e3/e):0):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sw(t,e){return new sb(t,e)}let sj=t=>e=>e.test(t),s_=[rO,rX,rQ,rW,rG,rY,{test:t=>"auto"===t,parse:t=>t}],sP=t=>s_.find(sj(t)),sk=[...s_,iw,iO],sN=t=>sk.find(sj(t));function sA(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e),l=t.getValue("willChange");n&&(s=n);let u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(let e in o){let n=t.getValue(e),i=o[e];if(!n||void 0===i||c&&function({protectedKeys:t,needsAnimating:e},r){let n=t.hasOwnProperty(r)&&!0!==e[r];return e[r]=!1,n}(c,e))continue;let a={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!n.hasAnimated){let r=t.getProps()[nJ];r&&(a.elapsed=window.HandoffAppearAnimations(r,e,n,nb),a.syncStart=!0)}n.start(sd(e,n,i,t.shouldReduceMotion&&rA.has(e)?{type:!1}:a));let h=n.animation;sp(l)&&(l.add(e),h.then(()=>l.remove(e))),u.push(h)}return a&&Promise.all(u).then(()=>{a&&function(t,e){let r=nK(t,e),{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};for(let e in s={...s,...n}){let r=nf(s[e]);t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,sw(r))}}(t,a)}),u}function sS(t,e,r={}){let n=nK(t,e,r.custom),{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);let s=n?()=>Promise.all(sA(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(n=0)=>{let{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(t,e,r=0,n=0,i=1,s){let a=[],o=(t.variantChildren.size-1)*n,l=1===i?(t=0)=>t*n:(t=0)=>o-t*n;return Array.from(t.variantChildren).sort(sC).forEach((t,n)=>{t.notify("AnimationStart",e),a.push(sS(t,e,{...s,delay:r+l(n)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(a)}(t,e,s+n,a,o,r)}:()=>Promise.resolve(),{when:o}=i;if(!o)return Promise.all([s(),a(r.delay)]);{let[t,e]="beforeChildren"===o?[s,a]:[a,s];return t().then(()=>e())}}function sC(t,e){return t.sortNodePosition(e)}let sT=[...rp].reverse(),sE=rp.length;function sM(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}class sR extends nF{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:r})=>(function(t,e,r={}){let n;if(t.notify("AnimationStart",e),Array.isArray(e)){let i=e.map(e=>sS(t,e,r));n=Promise.all(i)}else if("string"==typeof e)n=sS(t,e,r);else{let i="function"==typeof e?nK(t,e,r.custom):e;n=Promise.all(sA(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))})(t,e,r))),r={animate:sM(!0),whileInView:sM(),whileHover:sM(),whileTap:sM(),whileDrag:sM(),whileFocus:sM(),exit:sM()},n=!0,i=(e,r)=>{let n=nK(t,r);if(n){let{transition:t,transitionEnd:r,...i}=n;e={...e,...i,...r}}return e};function s(s,a){let o=t.getProps(),l=t.getVariantContext(!0)||{},u=[],c=new Set,h={},d=1/0;for(let e=0;e<sE;e++){var p;let f=sT[e],m=r[f],g=void 0!==o[f]?o[f]:l[f],y=rh(g),v=f===a?m.isActive:null;!1===v&&(d=e);let x=g===l[f]&&g!==o[f]&&y;if(x&&n&&t.manuallyAnimateOnMount&&(x=!1),m.protectedKeys={...h},!m.isActive&&null===v||!g&&!m.prevProp||rd(g)||"boolean"==typeof g)continue;let b=(p=m.prevProp,"string"==typeof g?g!==p:!!Array.isArray(g)&&!nZ(g,p)),w=b||f===a&&m.isActive&&!x&&y||e>d&&y,j=Array.isArray(g)?g:[g],_=j.reduce(i,{});!1===v&&(_={});let{prevResolvedValues:P={}}=m,k={...P,..._},N=t=>{w=!0,c.delete(t),m.needsAnimating[t]=!0};for(let t in k){let e=_[t],r=P[t];h.hasOwnProperty(t)||(e!==r?nd(e)&&nd(r)?!nZ(e,r)||b?N(t):m.protectedKeys[t]=!0:void 0!==e?N(t):c.add(t):void 0!==e&&c.has(t)?N(t):m.protectedKeys[t]=!0)}m.prevProp=g,m.prevResolvedValues=_,m.isActive&&(h={...h,..._}),n&&t.blockInitialAnimation&&(w=!1),w&&!x&&u.push(...j.map(t=>({animation:t,options:{type:f,...s}})))}if(c.size){let e={};c.forEach(r=>{let n=t.getBaseTarget(r);void 0!==n&&(e[r]=n)}),u.push({animation:e})}let f=!!u.length;return n&&!1===o.initial&&!t.manuallyAnimateOnMount&&(f=!1),n=!1,f?e(u):Promise.resolve()}return{animateChanges:s,setActive:function(e,n,i){var a;if(r[e].isActive===n)return Promise.resolve();null===(a=t.variantChildren)||void 0===a||a.forEach(t=>{var r;return null===(r=t.animationState)||void 0===r?void 0:r.setActive(e,n)}),r[e].isActive=n;let o=s(i,e);for(let t in r)r[t].protectedKeys={};return o},setAnimateFunction:function(r){e=r(t)},getState:()=>r}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();this.unmount(),rd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}let sV=0;class sD extends nF{constructor(){super(...arguments),this.id=sV++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let i=this.node.animationState.setActive("exit",!t,{custom:null!=r?r:this.node.getProps().custom});e&&!t&&i.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}let sL=(t,e)=>Math.abs(t-e);class sO{constructor(t,e,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let t=sB(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,r=function(t,e){let r=sL(t.x,e.x),n=sL(t.y,e.y);return Math.sqrt(r**2+n**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!r)return;let{point:n}=t,{timestamp:i}=nj;this.history.push({...n,timestamp:i});let{onStart:s,onMove:a}=this.handlers;e||(s&&s(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=sF(e,this.transformPagePoint),nb.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:r,onSessionEnd:n}=this.handlers,i=sB("pointercancel"===t.type?this.lastMoveEventInfo:sF(e,this.transformPagePoint),this.history);this.startEvent&&r&&r(t,i),n&&n(t,i)},!nA(t))return;this.handlers=e,this.transformPagePoint=r;let n=nS(t),i=sF(n,this.transformPagePoint),{point:s}=i,{timestamp:a}=nj;this.history=[{...s,timestamp:a}];let{onSessionStart:o}=e;o&&o(t,sB(i,this.history)),this.removeListeners=nM(nT(window,"pointermove",this.handlePointerMove),nT(window,"pointerup",this.handlePointerUp),nT(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nw(this.updatePoint)}}function sF(t,e){return e?{point:e(t.point)}:t}function sI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sB({point:t},e){return{point:t,delta:sI(t,s$(e)),offset:sI(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null,i=s$(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>n0(.1)));)r--;if(!n)return{x:0,y:0};let s=n1(i.timestamp-n.timestamp);if(0===s)return{x:0,y:0};let a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(e,0)}}function s$(t){return t[t.length-1]}function sU(t){return t.max-t.min}function sq(t,e=0,r=.01){return Math.abs(t-e)<=r}function sz(t,e,r,n=.5){t.origin=n,t.originPoint=ij(e.min,e.max,t.origin),t.scale=sU(r)/sU(e),(sq(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ij(r.min,r.max,t.origin)-t.originPoint,(sq(t.translate)||isNaN(t.translate))&&(t.translate=0)}function sH(t,e,r,n){sz(t.x,e.x,r.x,n?n.originX:void 0),sz(t.y,e.y,r.y,n?n.originY:void 0)}function sW(t,e,r){t.min=r.min+e.min,t.max=t.min+sU(e)}function sQ(t,e,r){t.min=e.min-r.min,t.max=t.min+sU(e)}function sX(t,e,r){sQ(t.x,e.x,r.x),sQ(t.y,e.y,r.y)}function sY(t,e,r){return{min:void 0!==e?t.min+e:void 0,max:void 0!==r?t.max+r-(t.max-t.min):void 0}}function sG(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function sZ(t,e,r){return{min:sK(t,e),max:sK(t,r)}}function sK(t,e){return"number"==typeof t?t:t[e]||0}let sJ=()=>({translate:0,scale:1,origin:0,originPoint:0}),s0=()=>({x:sJ(),y:sJ()}),s1=()=>({min:0,max:0}),s2=()=>({x:s1(),y:s1()});function s3(t){return[t("x"),t("y")]}function s5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function s6(t){return void 0===t||1===t}function s4({scale:t,scaleX:e,scaleY:r}){return!s6(t)||!s6(e)||!s6(r)}function s7(t){return s4(t)||s9(t)||t.z||t.rotate||t.rotateX||t.rotateY}function s9(t){var e,r;return(e=t.x)&&"0%"!==e||(r=t.y)&&"0%"!==r}function s8(t,e,r,n,i){return void 0!==i&&(t=n+i*(t-n)),n+r*(t-n)+e}function at(t,e=0,r=1,n,i){t.min=s8(t.min,e,r,n,i),t.max=s8(t.max,e,r,n,i)}function ae(t,{x:e,y:r}){at(t.x,e.translate,e.scale,e.originPoint),at(t.y,r.translate,r.scale,r.originPoint)}function ar(t){return Number.isInteger(t)?t:t>1.0000000000001||t<.999999999999?t:1}function an(t,e){t.min=t.min+e,t.max=t.max+e}function ai(t,e,[r,n,i]){let s=void 0!==e[i]?e[i]:.5,a=ij(t.min,t.max,s);at(t,e[r],e[n],a,e.scale)}let as=["x","scaleX","originX"],aa=["y","scaleY","originY"];function ao(t,e){ai(t.x,e,as),ai(t.y,e,aa)}function al(t,e){return s5(function(t,e){if(!e)return t;let r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(t.getBoundingClientRect(),e))}let au=new WeakMap;class ac{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=s2(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:r}=this.visualElement;r&&!1===r.isPresent||(this.panSession=new sO(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(nS(t,"page").point)},onStart:(t,e)=>{let{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nL(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),s3(t=>{let e=this.getAxisMotionValue(t).get()||0;if(rQ.test(e)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[t];if(n){let t=sU(n);e=t*(parseFloat(e)/100)}}}this.originPoint[t]=e}),i&&nb.update(()=>i(t,e),!1,!0);let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(t,e)=>{let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:s}=this.getProps();if(!r&&!this.openGlobalLock)return;let{offset:a}=e;if(n&&null===this.currentDirection){this.currentDirection=function(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}(a),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),s&&s(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(t,e){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:n}=e;this.startAnimation(n);let{onDragEnd:i}=this.getProps();i&&nb.update(()=>i(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){let{drag:n}=this.getProps();if(!r||!ah(t,n,this.currentDirection))return;let i=this.getAxisMotionValue(t),s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=function(t,{min:e,max:r},n){return void 0!==e&&t<e?t=n?ij(e,t,n.min):Math.max(t,e):void 0!==r&&t>r&&(t=n?ij(r,t,n.max):Math.min(t,r)),t}(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){let{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:r}=this.visualElement.projection||{},n=this.constraints;t&&rc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(t,{top:e,left:r,bottom:n,right:i}){return{x:sY(t.x,r,i),y:sY(t.y,e,n)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:sZ(t,"left","right"),y:sZ(t,"top","bottom")}}(e),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&s3(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let r={};return void 0!==e.min&&(r.min=e.min-t.min),void 0!==e.max&&(r.max=e.max-t.min),r}(r.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!rc(e))return!1;let n=e.current;ny(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let s=function(t,e,r){let n=al(t,r),{scroll:i}=e;return i&&(an(n.x,i.offset.x),an(n.y,i.offset.y)),n}(n,i.root,this.visualElement.getTransformPagePoint()),a={x:sG((t=i.layout.layoutBox).x,s.x),y:sG(t.y,s.y)};if(r){let t=r(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(a));this.hasMutatedConstraints=!!t,t&&(a=s5(t))}return a}startAnimation(t){let{drag:e,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=s3(a=>{if(!ah(a,e,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:r?t[a]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,u)});return Promise.all(l).then(a)}startAxisValueAnimation(t,e){let r=this.getAxisMotionValue(t);return r.start(sd(t,r,0,e))}stopAnimation(){s3(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){let e="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),n=r[e];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){s3(e=>{let{drag:r}=this.getProps();if(!ah(e,r,this.currentDirection))return;let{projection:n}=this.visualElement,i=this.getAxisMotionValue(e);if(n&&n.layout){let{min:r,max:s}=n.layout.layoutBox[e];i.set(t[e]-ij(r,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!rc(e)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};s3(t=>{let e=this.getAxisMotionValue(t);if(e){let r=e.get();n[t]=function(t,e){let r=.5,n=sU(t),i=sU(e);return i>n?r=iq(e.min,e.max-n,t.min):n>i&&(r=iq(t.min,t.max-i,e.min)),rL(0,1,r)}({min:r,max:r},this.constraints[t])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),s3(e=>{if(!ah(e,t,null))return;let r=this.getAxisMotionValue(e),{min:i,max:s}=this.constraints[e];r.set(ij(i,s,n[e]))})}addListeners(){if(!this.visualElement.current)return;au.set(this.visualElement,this);let t=this.visualElement.current,e=nT(t,"pointerdown",t=>{let{drag:e,dragListener:r=!0}=this.getProps();e&&r&&this.start(t)}),r=()=>{let{dragConstraints:t}=this.getProps();rc(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),r();let s=nN(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(s3(e=>{let r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),i(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:s=.35,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function ah(t,e,r){return(!0===e||e===t)&&(null===r||r===t)}class ad extends nF{constructor(t){super(t),this.removeGroupControls=ny,this.removeListeners=ny,this.controls=new ac(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ny}unmount(){this.removeGroupControls(),this.removeListeners()}}let ap=t=>(e,r)=>{t&&nb.update(()=>t(e,r))};class af extends nF{constructor(){super(...arguments),this.removePointerDownListener=ny}onPointerDown(t){this.session=new sO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:ap(t),onStart:ap(e),onMove:r,onEnd:(t,e)=>{delete this.session,n&&nb.update(()=>n(t,e))}}}mount(){this.removePointerDownListener=nT(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ag(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let ay={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!rX.test(t))return t;t=parseFloat(t)}let r=ag(t,e.target.x),n=ag(t,e.target.y);return`${r}% ${n}%`}};class av extends s.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=t;Object.assign(rk,ab),i&&(e.group&&e.group.add(i),r&&r.register&&n&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),am.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:r,drag:n,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,n||t.layoutDependency!==e||void 0===e?s.willUpdate():this.safeToRemove(),t.isPresent===i||(i?s.promote():s.relegate()||nb.postRender(()=>{let t=s.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ax(t){let[e,r]=function(){let t=(0,s.useContext)(ra);if(null===t)return[!0,null];let{isPresent:e,onExitComplete:r,register:n}=t,i=(0,s.useId)();return(0,s.useEffect)(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}(),n=(0,s.useContext)(rb);return s.createElement(av,{...t,layoutGroup:n,switchLayoutGroup:(0,s.useContext)(rw),isPresent:e,safeToRemove:r})}let ab={borderRadius:{...ay,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ay,borderTopRightRadius:ay,borderBottomLeftRadius:ay,borderBottomRightRadius:ay,boxShadow:{correct:(t,{treeScale:e,projectionDelta:r})=>{let n=iO.parse(t);if(n.length>5)return t;let i=iO.createTransformer(t),s="number"!=typeof n[0]?1:0,a=r.x.scale*e.x,o=r.y.scale*e.y;n[0+s]/=a,n[1+s]/=o;let l=ij(a,o,.5);return"number"==typeof n[2+s]&&(n[2+s]/=l),"number"==typeof n[3+s]&&(n[3+s]/=l),i(n)}}},aw=["TopLeft","TopRight","BottomLeft","BottomRight"],aj=aw.length,a_=t=>"string"==typeof t?parseFloat(t):t,aP=t=>"number"==typeof t||rX.test(t);function ak(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let aN=aS(0,.5,ia),aA=aS(.5,.95,ny);function aS(t,e,r){return n=>n<t?0:n>e?1:r(iq(t,e,n))}function aC(t,e){t.min=e.min,t.max=e.max}function aT(t,e){aC(t.x,e.x),aC(t.y,e.y)}function aE(t,e,r,n,i){return t-=e,t=n+1/r*(t-n),void 0!==i&&(t=n+1/i*(t-n)),t}function aM(t,e,[r,n,i],s,a){!function(t,e=0,r=1,n=.5,i,s=t,a=t){if(rQ.test(e)){e=parseFloat(e);let t=ij(a.min,a.max,e/100);e=t-a.min}if("number"!=typeof e)return;let o=ij(s.min,s.max,n);t===s&&(o-=e),t.min=aE(t.min,e,r,o,i),t.max=aE(t.max,e,r,o,i)}(t,e[r],e[n],e[i],e.scale,s,a)}let aR=["x","scaleX","originX"],aV=["y","scaleY","originY"];function aD(t,e,r,n){aM(t.x,e,aR,r?r.x:void 0,n?n.x:void 0),aM(t.y,e,aV,r?r.y:void 0,n?n.y:void 0)}function aL(t){return 0===t.translate&&1===t.scale}function aO(t){return aL(t.x)&&aL(t.y)}function aF(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aI(t){return sU(t.x)/sU(t.y)}class aB{constructor(){this.members=[]}add(t){sm(this.members,t),t.scheduleRender()}remove(t){if(sg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let r=this.members.findIndex(e=>t===e);if(0===r)return!1;for(let t=r;t>=0;t--){let r=this.members[t];if(!1!==r.isPresent){e=r;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:n}=t.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a$(t,e,r){let n="",i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(1!==e.x||1!==e.y)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){let{rotate:t,rotateX:e,rotateY:i}=r;t&&(n+=`rotate(${t}deg) `),e&&(n+=`rotateX(${e}deg) `),i&&(n+=`rotateY(${i}deg) `)}let a=t.x.scale*e.x,o=t.y.scale*e.y;return(1!==a||1!==o)&&(n+=`scale(${a}, ${o})`),n||"none"}let aU=(t,e)=>t.depth-e.depth;class aq{constructor(){this.children=[],this.isDirty=!1}add(t){sm(this.children,t),this.isDirty=!0}remove(t){sg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aU),this.isDirty=!1,this.children.forEach(t)}}let az=["","X","Y","Z"],aH=0,aW={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function aQ({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(t={},r=null==e?void 0:e()){this.id=aH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{aW.totalNodes=aW.resolvedTargetDeltas=aW.recalculatedProjection=0,this.nodes.forEach(aG),this.nodes.forEach(a3),this.nodes.forEach(a5),this.nodes.forEach(aZ),window.MotionDebug&&window.MotionDebug.record(aW)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new aq)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new sy),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let r=this.eventHandlers.get(t);r&&r.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:n,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(i||n)&&(this.isLayoutDirty=!0),t){let r;let n=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(t,e){let r=performance.now(),n=({timestamp:i})=>{let s=i-r;s>=e&&(nw(n),t(s-e))};return nb.read(n,!0),()=>nw(n)}(n,250),am.hasAnimatedSinceResize&&(am.hasAnimatedSinceResize=!1,this.nodes.forEach(a2))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&s&&(n||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||s.getDefaultTransition()||ot,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!aF(this.targetLayout,n)||r,u=!e&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||e&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);let e={...sh(i,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||a2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nw(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a6),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:r}=this.options;if(void 0===e&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;let t=this.isUpdateBlocked();if(t){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aJ);return}this.isUpdating||this.nodes.forEach(a0),this.isUpdating=!1,this.nodes.forEach(a1),this.nodes.forEach(aX),this.nodes.forEach(aY),this.clearAllSnapshots();let e=performance.now();nj.delta=rL(0,1e3/60,e-nj.timestamp),nj.timestamp=e,nj.isProcessing=!0,n_.update.process(nj),n_.preRender.process(nj),n_.render.process(nj),nj.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aK),this.sharedNodes.forEach(a4)}scheduleUpdateProjection(){nb.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){nb.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++){let e=this.path[t];e.updateScroll()}let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=s2(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;let t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!aO(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;t&&(e||s7(this.latestValues)||s)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let r=this.measurePageBox(),n=this.removeElementScroll(r);return t&&(n=this.removeTransform(n)),on((e=n).x),on(e.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:t}=this.options;if(!t)return s2();let e=t.measureViewportBox(),{scroll:r}=this.root;return r&&(an(e.x,r.offset.x),an(e.y,r.offset.y)),e}removeElementScroll(t){let e=s2();aT(e,t);for(let r=0;r<this.path.length;r++){let n=this.path[r],{scroll:i,options:s}=n;if(n!==this.root&&i&&s.layoutScroll){if(i.isRoot){aT(e,t);let{scroll:r}=this.root;r&&(an(e.x,-r.offset.x),an(e.y,-r.offset.y))}an(e.x,i.offset.x),an(e.y,i.offset.y)}}return e}applyTransform(t,e=!1){let r=s2();aT(r,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];!e&&n.options.layoutScroll&&n.scroll&&n!==n.root&&ao(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),s7(n.latestValues)&&ao(r,n.latestValues)}return s7(this.latestValues)&&ao(r,this.latestValues),r}removeTransform(t){let e=s2();aT(e,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];if(!r.instance||!s7(r.latestValues))continue;s4(r.latestValues)&&r.updateSnapshot();let n=s2(),i=r.measurePageBox();aT(n,i),aD(e,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return s7(this.latestValues)&&aD(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nj.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e,r,n,i;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s,o=!(t||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget);if(o)return;let{layout:l,layoutId:u}=this.options;if(this.layout&&(l||u)){if(this.resolvedRelativeTargetAt=nj.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=s2(),this.relativeTargetOrigin=s2(),sX(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),aT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=s2(),this.targetWithTransforms=s2()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),r=this.target,n=this.relativeTarget,i=this.relativeParent.target,sW(r.x,n.x,i.x),sW(r.y,n.y,i.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):aT(this.target,this.layout.layoutBox),ae(this.target,this.targetDelta)):aT(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=s2(),this.relativeTargetOrigin=s2(),sX(this.relativeTargetOrigin,this.target,t.target),aT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}aW.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||s4(this.parent.latestValues)||s9(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),r=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===nj.timestamp&&(n=!1),n)return;let{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||s))return;aT(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;(function(t,e,r,n=!1){let i,s;let a=r.length;if(a){e.x=e.y=1;for(let o=0;o<a;o++){s=(i=r[o]).projectionDelta;let a=i.instance;(!a||!a.style||"contents"!==a.style.display)&&(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ao(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,ae(t,s)),n&&s7(i.latestValues)&&ao(t,i.latestValues))}e.x=ar(e.x),e.y=ar(e.y)}})(this.layoutCorrected,this.treeScale,this.path,r),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox);let{target:l}=e;if(!l){this.projectionTransform&&(this.projectionDelta=s0(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=s0(),this.projectionDeltaWithTransform=s0());let u=this.projectionTransform;sH(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=a$(this.projectionDelta,this.treeScale),(this.projectionTransform!==u||this.treeScale.x!==a||this.treeScale.y!==o)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),aW.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){let r;let n=this.snapshot,i=n?n.latestValues:{},s={...this.latestValues},a=s0();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let o=s2(),l=n?n.source:void 0,u=this.layout?this.layout.source:void 0,c=l!==u,h=this.getStack(),d=!h||h.members.length<=1,p=!!(c&&!d&&!0===this.options.crossfade&&!this.path.some(a8));this.animationProgress=0,this.mixTargetDelta=e=>{let n=e/1e3;if(a7(a.x,t.x,n),a7(a.y,t.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var l,u,h,f;sX(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,f=this.relativeTargetOrigin,a9(h.x,f.x,o.x,n),a9(h.y,f.y,o.y,n),r&&(l=this.relativeTarget,u=r,l.x.min===u.x.min&&l.x.max===u.x.max&&l.y.min===u.y.min&&l.y.max===u.y.max)&&(this.isProjectionDirty=!1),r||(r=s2()),aT(r,this.relativeTarget)}c&&(this.animationValues=s,function(t,e,r,n,i,s){i?(t.opacity=ij(0,void 0!==r.opacity?r.opacity:1,aN(n)),t.opacityExit=ij(void 0!==e.opacity?e.opacity:1,0,aA(n))):s&&(t.opacity=ij(void 0!==e.opacity?e.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<aj;i++){let s=`border${aw[i]}Radius`,a=ak(e,s),o=ak(r,s);if(void 0===a&&void 0===o)continue;a||(a=0),o||(o=0);let l=0===a||0===o||aP(a)===aP(o);l?(t[s]=Math.max(ij(a_(a),a_(o),n),0),(rQ.test(o)||rQ.test(a))&&(t[s]+="%")):t[s]=o}(e.rotate||r.rotate)&&(t.rotate=ij(e.rotate||0,r.rotate||0,n))}(s,i,this.latestValues,n,p,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nw(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nb.update(()=>{am.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,r){let n=rC(t)?t:sw(t);return n.start(sd("",n,1e3,r)),n.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:r,layout:n,latestValues:i}=t;if(e&&r&&n){if(this!==t&&this.layout&&n&&oi(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||s2();let e=sU(this.layout.layoutBox.x);r.x.min=t.target.x.min,r.x.max=r.x.min+e;let n=sU(this.layout.layoutBox.y);r.y.min=t.target.y.min,r.y.max=r.y.min+n}aT(e,r),ao(e,i),sH(this.projectionDeltaWithTransform,this.layoutCorrected,e,i)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new aB);let r=this.sharedNodes.get(t);r.add(e);let n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:r}=t;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(e=!0),!e)return;let n={};for(let e=0;e<az.length;e++){let i="rotate"+az[e];r[i]&&(n[i]=r[i],t.setStaticValue(i,0))}for(let e in t.render(),n)t.setStaticValue(e,n[e]);t.scheduleRender()}getProjectionStyles(t={}){var e,r;let n={};if(!this.instance||this.isSVG)return n;if(!this.isVisible)return{visibility:"hidden"};n.visibility="";let i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=nm(t.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=nm(t.pointerEvents)||""),this.hasProjected&&!s7(this.latestValues)&&(e.transform=i?i({},""):"none",this.hasProjected=!1),e}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),n.transform=a$(this.projectionDeltaWithTransform,this.treeScale,a),i&&(n.transform=i(a,n.transform));let{x:o,y:l}=this.projectionDelta;for(let t in n.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?n.opacity=s===this?null!==(r=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:n.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,rk){if(void 0===a[t])continue;let{correct:e,applyTo:r}=rk[t],i="none"===n.transform?a[t]:e(a[t],s);if(r){let t=r.length;for(let e=0;e<t;e++)n[r[e]]=i}else n[t]=i}return this.options.layoutId&&(n.pointerEvents=s===this?nm(t.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(aJ),this.root.sharedNodes.clear()}}}function aX(t){t.updateLayout()}function aY(t){var e;let r=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:n}=t.layout,{animationType:i}=t.options,s=r.source!==t.layout.source;"size"===i?s3(t=>{let n=s?r.measuredBox[t]:r.layoutBox[t],i=sU(n);n.min=e[t].min,n.max=n.min+i}):oi(i,r.layoutBox,e)&&s3(n=>{let i=s?r.measuredBox[n]:r.layoutBox[n],a=sU(e[n]);i.max=i.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[n].max=t.relativeTarget[n].min+a)});let a=s0();sH(a,e,r.layoutBox);let o=s0();s?sH(o,t.applyTransform(n,!0),r.measuredBox):sH(o,e,r.layoutBox);let l=!aO(a),u=!1;if(!t.resumeFrom){let n=t.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:i,layout:s}=n;if(i&&s){let a=s2();sX(a,r.layoutBox,i.layoutBox);let o=s2();sX(o,e,s.layoutBox),aF(a,o)||(u=!0),n.options.layoutRoot&&(t.relativeTarget=o,t.relativeTargetOrigin=a,t.relativeParent=n)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:r,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function aG(t){aW.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aK(t){t.clearSnapshot()}function aJ(t){t.clearMeasurements()}function a0(t){t.isLayoutDirty=!1}function a1(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function a2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function a3(t){t.resolveTargetDelta()}function a5(t){t.calcProjection()}function a6(t){t.resetRotation()}function a4(t){t.removeLeadSnapshot()}function a7(t,e,r){t.translate=ij(e.translate,0,r),t.scale=ij(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function a9(t,e,r,n){t.min=ij(e.min,r.min,n),t.max=ij(e.max,r.max,n)}function a8(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let ot={duration:.45,ease:[.4,0,.1,1]},oe=t=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(t),or=oe("applewebkit/")&&!oe("chrome/")?Math.round:ny;function on(t){t.min=or(t.min),t.max=or(t.max)}function oi(t,e,r){return"position"===t||"preserve-aspect"===t&&!sq(aI(e),aI(r),.2)}let os=aQ({attachResizeListener:(t,e)=>nN(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oa={current:void 0},oo=aQ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!oa.current){let t=new os({});t.mount(window),t.setOptions({layoutScroll:!0}),oa.current=t}return oa.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position}),ol=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ou(t,e,r=1){ny(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,i]=function(t){let e=ol.exec(t);if(!e)return[,];let[,r,n]=e;return[r,n]}(t);if(!n)return;let s=window.getComputedStyle(e).getPropertyValue(n);if(s){let t=s.trim();return sf(t)?parseFloat(t):t}return rV(i)?ou(i,e,r+1):i}let oc=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oh=t=>oc.has(t),od=t=>Object.keys(t).some(oh),op=t=>t===rO||t===rX,of=(t,e)=>parseFloat(t.split(", ")[e]),om=(t,e)=>(r,{transform:n})=>{if("none"===n||!n)return 0;let i=n.match(/^matrix3d\((.+)\)$/);if(i)return of(i[1],e);{let e=n.match(/^matrix\((.+)\)$/);return e?of(e[1],t):0}},og=new Set(["x","y","z"]),oy=rN.filter(t=>!og.has(t)),ov={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:om(4,13),y:om(5,14)};ov.translateX=ov.x,ov.translateY=ov.y;let ox=(t,e,r)=>{let n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&e.setStaticValue("display",t.display||"block"),r.forEach(t=>{o[t]=ov[t](n,s)}),e.render();let l=e.measureViewportBox();return r.forEach(r=>{let n=e.getValue(r);n&&n.jump(o[r]),t[r]=ov[r](l,s)}),t},ob=(t,e,r={},n={})=>{e={...e},n={...n};let i=Object.keys(e).filter(oh),s=[],a=!1,o=[];if(i.forEach(i=>{let l;let u=t.getValue(i);if(!t.hasValue(i))return;let c=r[i],h=sP(c),d=e[i];if(nd(d)){let t=d.length,e=null===d[0]?1:0;h=sP(c=d[e]);for(let r=e;r<t&&null!==d[r];r++)l?ny(sP(d[r])===l,"All keyframes must be of the same type"):ny((l=sP(d[r]))===h||op(h)&&op(l),"Keyframes must be of the same dimension as the current value")}else l=sP(d);if(h!==l){if(op(h)&&op(l)){let t=u.get();"string"==typeof t&&u.set(parseFloat(t)),"string"==typeof d?e[i]=parseFloat(d):Array.isArray(d)&&l===rX&&(e[i]=d.map(parseFloat))}else(null==h?void 0:h.transform)&&(null==l?void 0:l.transform)&&(0===c||0===d)?0===c?u.set(l.transform(c)):e[i]=h.transform(d):(a||(s=function(t){let e=[];return oy.forEach(r=>{let n=t.getValue(r);void 0!==n&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}(t),a=!0),o.push(i),n[i]=void 0!==n[i]?n[i]:e[i],u.jump(d))}}),!o.length)return{target:e,transitionEnd:n};{let r=o.indexOf("height")>=0?window.pageYOffset:null,i=ox(e,t,o);return s.length&&s.forEach(([e,r])=>{t.getValue(e).set(r)}),t.render(),ro&&null!==r&&window.scrollTo({top:r}),{target:i,transitionEnd:n}}},ow=(t,e,r,n)=>{let i=function(t,{...e},r){let n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};for(let i in r&&(r={...r}),t.values.forEach(t=>{let e=t.get();if(!rV(e))return;let r=ou(e,n);r&&t.set(r)}),e){let t=e[i];if(!rV(t))continue;let s=ou(t,n);s&&(e[i]=s,r||(r={}),void 0===r[i]&&(r[i]=t))}return{target:e,transitionEnd:r}}(t,e,n);return function(t,e,r,n){return od(e)?ob(t,e,r,n):{target:e,transitionEnd:n}}(t,e=i.target,r,n=i.transitionEnd)},oj={current:null},o_={current:!1},oP=new WeakMap,ok=Object.keys(rx),oN=ok.length,oA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],oS=rf.length;class oC{constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:n,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nb.render(this.render,!1,!0);let{latestValues:a,renderState:o}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=e.initial?{...a}:{},this.renderState=o,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=s,this.isControllingVariants=rm(e),this.isVariantNode=rg(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(e,{});for(let t in u){let e=u[t];void 0!==a[t]&&rC(e)&&(e.set(a[t],!1),sp(l)&&l.add(t))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,oP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),o_.current||function(){if(o_.current=!0,ro){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oj.current=t.matches;t.addListener(e),e()}else oj.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||oj.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in oP.delete(this.current),this.projection&&this.projection.unmount(),nw(this.notifyUpdate),nw(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){let r=rA.has(t),n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&nb.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),i()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...e},r,n,i){let s,a;for(let t=0;t<oN;t++){let r=ok[t],{isEnabled:n,Feature:i,ProjectionNode:o,MeasureLayout:l}=rx[r];o&&(s=o),n(e)&&(!this.features[r]&&i&&(this.features[r]=new i(this)),l&&(a=l))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);let{layoutId:t,layout:r,drag:n,dragConstraints:a,layoutScroll:o,layoutRoot:l}=e;this.projection.setOptions({layoutId:t,layout:r,alwaysMeasureLayout:!!n||a&&rc(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof r?r:"both",initialPromotionConfig:i,layoutScroll:o,layoutRoot:l})}return a}updateFeatures(){for(let t in this.features){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):s2()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<oA.length;e++){let r=oA[e];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=t["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=function(t,e,r){let{willChange:n}=e;for(let i in e){let s=e[i],a=r[i];if(rC(s))t.addValue(i,s),sp(n)&&n.add(i);else if(rC(a))t.addValue(i,sw(s,{owner:t})),sp(n)&&n.remove(i);else if(a!==s){if(t.hasValue(i)){let e=t.getValue(i);e.hasAnimated||e.set(s)}else{let e=t.getStaticValue(i);t.addValue(i,sw(void 0!==e?e:s,{owner:t}))}}}for(let n in r)void 0===e[n]&&t.removeValue(n);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}let e={};for(let t=0;t<oS;t++){let r=rf[t],n=this.props[r];(rh(n)||!1===n)&&(e[r]=n)}return e}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return void 0===r&&void 0!==e&&(r=sw(e,{owner:this}),this.addValue(t,r)),r}readValue(t){var e;return void 0===this.latestValues[t]&&this.current?null!==(e=this.getBaseTargetFromProps(this.props,t))&&void 0!==e?e:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let{initial:r}=this.props,n="string"==typeof r||"object"==typeof r?null===(e=nc(this.props,r))||void 0===e?void 0:e[t]:void 0;if(r&&void 0!==n)return n;let i=this.getBaseTargetFromProps(this.props,t);return void 0===i||rC(i)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:i}on(t,e){return this.events[t]||(this.events[t]=new sy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class oT extends oC{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...r},{transformValues:n},i){let s=function(t,e,r){let n={};for(let i in t){let t=function(t,e){if(!e)return;let r=e[t]||e.default||e;return r.from}(i,e);if(void 0!==t)n[i]=t;else{let t=r.getValue(i);t&&(n[i]=t.get())}}return n}(r,t||{},this);if(n&&(e&&(e=n(e)),r&&(r=n(r)),s&&(s=n(s))),i){!function(t,e,r){var n,i;let s=Object.keys(e).filter(e=>!t.hasValue(e)),a=s.length;if(a)for(let o=0;o<a;o++){let a=s[o],l=e[a],u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(n=r[a])&&void 0!==n?n:t.readValue(a))&&void 0!==i?i:e[a]),null!=u&&("string"==typeof u&&(sf(u)||sc(u))?u=parseFloat(u):!sN(u)&&iO.test(l)&&(u=su(a,l)),t.addValue(a,sw(u,{owner:t})),void 0===r[a]&&(r[a]=u),null!==u&&t.setBaseTarget(a,u))}}(this,r,s);let t=ow(this,r,s,e);e=t.transitionEnd,r=t.target}return{transition:t,transitionEnd:e,...r}}}class oE extends oT{readValueFromInstance(t,e){if(rA.has(e)){let t=sl(e);return t&&t.default||0}{let r=window.getComputedStyle(t),n=(rR(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:e}){return al(t,e)}build(t,e,r,n){r0(t,e,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,e){return nl(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;rC(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(t,e,r,n){ns(t,e,r,n)}}class oM extends oT{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(rA.has(e)){let t=sl(e);return t&&t.default||0}return e=na.has(e)?e:ni(e),t.getAttribute(e)}measureInstanceViewportBox(){return s2()}scrapeMotionValuesFromProps(t,e){return nu(t,e)}build(t,e,r,n){nt(t,e,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,r,n){no(t,e,r,n)}mount(t){this.isSVGTag=nr(t.tagName),super.mount(t)}}let oR=(t,e)=>rP(t)?new oM(e,{enableHardwareAcceleration:!1}):new oE(e,{enableHardwareAcceleration:!0}),oV={animation:{Feature:sR},exit:{Feature:sD},inView:{Feature:nG},tap:{Feature:nz},focus:{Feature:n$},hover:{Feature:nB},pan:{Feature:af},drag:{Feature:ad,ProjectionNode:oo,MeasureLayout:ax},layout:{ProjectionNode:oo,MeasureLayout:ax}},oD=function(t){function e(e,r={}){return function({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&function(t){for(let e in t)rx[e]={...rx[e],...t[e]}}(t);let a=(0,s.forwardRef)(function(a,o){var l;let u;let c={...(0,s.useContext)(ri),...a,layoutId:function({layoutId:t}){let e=(0,s.useContext)(rb).id;return e&&void 0!==t?e+"-"+t:t}(a)},{isStatic:h}=c,d=function(t){let{initial:e,animate:r}=function(t,e){if(rm(t)){let{initial:e,animate:r}=t;return{initial:!1===e||rh(e)?e:void 0,animate:rh(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,(0,s.useContext)(rs));return(0,s.useMemo)(()=>({initial:e,animate:r}),[ry(e),ry(r)])}(a),p=n(a,h);if(!h&&ro){d.visualElement=function(t,e,r,n){let{visualElement:i}=(0,s.useContext)(rs),a=(0,s.useContext)(ru),o=(0,s.useContext)(ra),l=(0,s.useContext)(ri).reducedMotion,u=(0,s.useRef)();n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));let c=u.current;(0,s.useInsertionEffect)(()=>{c&&c.update(r,o)});let h=(0,s.useRef)(!!window.HandoffAppearAnimations);return rl(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),(0,s.useEffect)(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)}),c}(i,p,c,e);let r=(0,s.useContext)(rw),n=(0,s.useContext)(ru).strict;d.visualElement&&(u=d.visualElement.loadFeatures(c,n,t,r))}return s.createElement(rs.Provider,{value:d},u&&d.visualElement?s.createElement(u,{visualElement:d.visualElement,...c}):null,r(i,a,(l=d.visualElement,(0,s.useCallback)(t=>{t&&p.mount&&p.mount(t),l&&(t?l.mount(t):l.unmount()),o&&("function"==typeof o?o(t):rc(o)&&(o.current=t))},[l])),p,h,d.visualElement))});return a[rj]=i,a}(t(e,r))}if("undefined"==typeof Proxy)return e;let r=new Map;return new Proxy(e,{get:(t,n)=>(r.has(n)||r.set(n,e(n)),r.get(n))})}((t,e)=>(function(t,{forwardMotionProps:e=!1},r,n){let i=rP(t)?nP:nk;return{...i,preloadedFeatures:r,useRender:function(t=!1){return(e,r,n,{latestValues:i},a)=>{let o=rP(e)?nn:r3,l=o(r,i,a,e),u=function(t,e,r){let n={};for(let i in t)("values"!==i||"object"!=typeof t.values)&&(r4(i)||!0===r&&r6(i)||!e&&!r6(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}(r,"string"==typeof e,t),c={...u,...l,ref:n},{children:h}=r,d=(0,s.useMemo)(()=>rC(h)?h.get():h,[h]);return(0,s.createElement)(e,{...c,children:d})}}(e),createVisualElement:n,Component:t}})(t,e,oV,oR));function oL({interests:t,isLoading:e}){let r=(0,s.useRef)(null),[n,a]=(0,s.useState)(null);return((0,s.useEffect)(()=>{if(!t.length||!r.current)return;let e=t.map(t=>({id:t.id,label:t.topic,weight:t.weight,source:t.source})),n=[];for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){let i=e[t],s=e[r],a=i.label.toLowerCase().split(" "),o=s.label.toLowerCase().split(" "),l=a.filter(t=>o.includes(t));l.length>0&&n.push({source:i.id,target:s.id,weight:l.length/Math.max(a.length,o.length)})}a({nodes:e,edges:n})},[t]),(0,s.useEffect)(()=>{if(!n||!r.current)return;let t=e$(r.current);t.selectAll("*").remove();let e=(function(t){let e;var r,n=1,i=.001,s=1-Math.pow(.001,1/300),a=0,o=.6,l=new Map,u=tD(d),c=tx("tick","end"),h=(e=1,()=>(e=(1664525*e+1013904223)%4294967296)/4294967296);function d(){p(),c.call("tick",r),n<i&&(u.stop(),c.call("end",r))}function p(e){var i,u,c=t.length;void 0===e&&(e=1);for(var h=0;h<e;++h)for(n+=(a-n)*s,l.forEach(function(t){t(n)}),i=0;i<c;++i)null==(u=t[i]).fx?u.x+=u.vx*=o:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=o:(u.y=u.fy,u.vy=0);return r}function f(){for(var e,r=0,n=t.length;r<n;++r){if((e=t[r]).index=r,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+r),s=r*rr;e.x=i*Math.cos(s),e.y=i*Math.sin(s)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function m(e){return e.initialize&&e.initialize(t,h),e}return null==t&&(t=[]),f(),r={tick:p,restart:function(){return u.restart(d),r},stop:function(){return u.stop(),r},nodes:function(e){return arguments.length?(t=e,f(),l.forEach(m),r):t},alpha:function(t){return arguments.length?(n=+t,r):n},alphaMin:function(t){return arguments.length?(i=+t,r):i},alphaDecay:function(t){return arguments.length?(s=+t,r):+s},alphaTarget:function(t){return arguments.length?(a=+t,r):a},velocityDecay:function(t){return arguments.length?(o=1-t,r):1-o},randomSource:function(t){return arguments.length?(h=t,l.forEach(m),r):h},force:function(t,e){return arguments.length>1?(null==e?l.delete(t):l.set(t,m(e)),r):l.get(t)},find:function(e,r,n){var i,s,a,o,l,u=0,c=t.length;for(null==n?n=1/0:n*=n,u=0;u<c;++u)(a=(i=e-(o=t[u]).x)*i+(s=r-o.y)*s)<n&&(l=o,n=a);return l},on:function(t,e){return arguments.length>1?(c.on(t,e),r):c.on(t)}}})(n.nodes).force("link",(function(t){var e,r,n,i,s,a,o=e0,l=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=eK(30),c=1;function h(n){for(var i=0,o=t.length;i<c;++i)for(var l,u,h,d,p,f,m,g=0;g<o;++g)u=(l=t[g]).source,f=((f=Math.sqrt((d=(h=l.target).x+h.vx-u.x-u.vx||eJ(a))*d+(p=h.y+h.vy-u.y-u.vy||eJ(a))*p))-r[g])/f*n*e[g],d*=f,p*=f,h.vx-=d*(m=s[g]),h.vy-=p*m,u.vx+=d*(m=1-m),u.vy+=p*m}function d(){if(n){var a,l,u=n.length,c=t.length,h=new Map(n.map((t,e)=>[o(t,e,n),t]));for(a=0,i=Array(u);a<c;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=e1(h,l.source)),"object"!=typeof l.target&&(l.target=e1(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,s=Array(c);a<c;++a)l=t[a],s[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=Array(c),p(),r=Array(c),f()}}function p(){if(n)for(var r=0,i=t.length;r<i;++r)e[r]=+l(t[r],r,t)}function f(){if(n)for(var e=0,i=t.length;e<i;++e)r[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){n=t,a=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(o=t,h):o},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(l="function"==typeof t?t:eK(+t),p(),h):l},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:eK(+t),f(),h):u},h})(n.edges).id(t=>t.id).distance(100)).force("charge",(function(){var t,e,r,n,i,s=eK(-30),a=1,o=1/0,l=.81;function u(r){var i,s=t.length,a=e4(t,rt,re).visitAfter(h);for(n=r,i=0;i<s;++i)e=t[i],a.visit(d)}function c(){if(t){var e,r,n=t.length;for(e=0,i=Array(n);e<n;++e)i[(r=t[e]).index]=+s(r,e,t)}}function h(t){var e,r,n,s,a,o=0,l=0;if(t.length){for(n=s=a=0;a<4;++a)(e=t[a])&&(r=Math.abs(e.value))&&(o+=e.value,l+=r,n+=r*e.x,s+=r*e.y);t.x=n/l,t.y=s/l}else{(e=t).x=e.data.x,e.y=e.data.y;do o+=i[e.data.index];while(e=e.next)}t.value=o}function d(t,s,u,c){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,p=c-s,f=h*h+d*d;if(p*p/l<f)return f<o&&(0===h&&(f+=(h=eJ(r))*h),0===d&&(f+=(d=eJ(r))*d),f<a&&(f=Math.sqrt(a*f)),e.vx+=h*t.value*n/f,e.vy+=d*t.value*n/f),!0;if(!t.length&&!(f>=o)){(t.data!==e||t.next)&&(0===h&&(f+=(h=eJ(r))*h),0===d&&(f+=(d=eJ(r))*d),f<a&&(f=Math.sqrt(a*f)));do t.data!==e&&(p=i[t.data.index]*n/f,e.vx+=h*p,e.vy+=d*p);while(t=t.next)}}return u.initialize=function(e,n){t=e,r=n,c()},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:eK(+t),c(),u):s},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u})().strength(-300)).force("center",function(t,e){var r,n=1;function i(){var i,s,a=r.length,o=0,l=0;for(i=0;i<a;++i)o+=(s=r[i]).x,l+=s.y;for(o=(o/a-t)*n,l=(l/a-e)*n,i=0;i<a;++i)s=r[i],s.x-=o,s.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){r=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(n=+t,i):n},i}(400,300)),i=t.append("g").selectAll("line").data(n.edges).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",t=>3*Math.sqrt(t.weight)),s=t.append("g").selectAll("g").data(n.nodes).enter().append("g").call((function(){var t,e,r,n,i=eX,s=eY,a=eG,o=eZ,l={},u=tx("start","drag","end"),c=0,h=0;function d(t){t.on("mousedown.drag",p).filter(o).on("touchstart.drag",g).on("touchmove.drag",y,eq).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,o){if(!n&&i.call(this,a,o)){var l,u,c,h=x(this,s.call(this,a,o),a,o,"mouse");h&&(e$(a.view).on("mousemove.drag",f,ez).on("mouseup.drag",m,ez),u=(l=a.view).document.documentElement,c=e$(l).on("dragstart.drag",eW,ez),"onselectstart"in u?c.on("selectstart.drag",eW,ez):(u.__noselect=u.style.MozUserSelect,u.style.MozUserSelect="none"),eH(a),r=!1,t=a.clientX,e=a.clientY,h("start",a))}}function f(n){if(eW(n),!r){var i=n.clientX-t,s=n.clientY-e;r=i*i+s*s>h}l.mouse("drag",n)}function m(t){var e,n,i,s;e$(t.view).on("mousemove.drag mouseup.drag",null),e=t.view,n=r,i=e.document.documentElement,s=e$(e).on("dragstart.drag",null),n&&(s.on("click.drag",eW,ez),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect),eW(t),l.mouse("end",t)}function g(t,e){if(i.call(this,t,e)){var r,n,a=t.changedTouches,o=s.call(this,t,e),l=a.length;for(r=0;r<l;++r)(n=x(this,o,t,e,a[r].identifier,a[r]))&&(eH(t),n("start",t,a[r]))}}function y(t){var e,r,n=t.changedTouches,i=n.length;for(e=0;e<i;++e)(r=l[n[e].identifier])&&(eW(t),r("drag",t,n[e]))}function v(t){var e,r,i=t.changedTouches,s=i.length;for(n&&clearTimeout(n),n=setTimeout(function(){n=null},500),e=0;e<s;++e)(r=l[i[e].identifier])&&(eH(t),r("end",t,i[e]))}function x(t,e,r,n,i,s){var o,h,p,f=u.copy(),m=eU(s||r,e);if(null!=(p=a.call(t,new DragEvent("beforestart",{sourceEvent:r,target:d,identifier:i,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),n)))return o=p.x-m[0]||0,h=p.y-m[1]||0,function r(s,a,u){var g,y=m;switch(s){case"start":l[i]=r,g=c++;break;case"end":delete l[i],--c;case"drag":m=eU(u||a,e),g=c}f.call(s,t,new DragEvent(s,{sourceEvent:a,subject:p,target:d,identifier:i,active:g,x:m[0]+o,y:m[1]+h,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:f}),n)}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:eQ(!!t),d):i},d.container=function(t){return arguments.length?(s="function"==typeof t?t:eQ(t),d):s},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:eQ(t),d):a},d.touchable=function(t){return arguments.length?(o="function"==typeof t?t:eQ(!!t),d):o},d.on=function(){var t=u.on.apply(u,arguments);return t===u?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d})().on("start",function(t,r){t.active||e.alphaTarget(.3).restart(),r.fx=r.x,r.fy=r.y}).on("drag",function(t,e){e.fx=t.x,e.fy=t.y}).on("end",function(t,r){t.active||e.alphaTarget(0),r.fx=null,r.fy=null}));return s.append("circle").attr("r",t=>8*Math.sqrt(t.weight)+5).attr("fill",t=>{switch(t.source){case"onboarding":return"#3b82f6";case"manual":return"#10b981";case"passive":return"#f59e0b";default:return"#6b7280"}}).attr("stroke","#fff").attr("stroke-width",2),s.append("text").text(t=>t.label).attr("text-anchor","middle").attr("dy",".35em").attr("font-size","12px").attr("fill","#374151").attr("font-weight","500"),e.on("tick",()=>{i.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y),s.attr("transform",t=>`translate(${t.x},${t.y})`)}),()=>{e.stop()}},[n]),e)?i.jsx("div",{className:"card",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"loading-spinner"})})}):t.length?(0,i.jsxs)(oD.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"card",children:[(0,i.jsxs)("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:"Your Interest Graph"}),i.jsx("p",{className:"text-sm text-secondary-600",children:"Visualize how your interests connect and evolve"})]}),i.jsx("div",{className:"overflow-hidden rounded-lg border border-secondary-200",children:i.jsx("svg",{ref:r,width:"100%",height:"600",viewBox:"0 0 800 600",className:"w-full h-auto"})}),(0,i.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-secondary-600",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),i.jsx("span",{children:"Onboarding"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),i.jsx("span",{children:"Manual"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),i.jsx("span",{children:"Passive"})]})]})]}):i.jsx("div",{className:"card",children:(0,i.jsxs)("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No interests yet"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:"Add some interests to see your knowledge graph"}),i.jsx("button",{className:"btn-primary",children:"Add Interest"})]})})}function oO(){let t=(0,s.useRef)(!1);return rl(()=>(t.current=!0,()=>{t.current=!1}),[]),t}class oF extends s.Component{getSnapshotBeforeUpdate(t){let e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){let t=this.props.sizeRef.current;t.height=e.offsetHeight||0,t.width=e.offsetWidth||0,t.top=e.offsetTop,t.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oI({children:t,isPresent:e}){let r=(0,s.useId)(),n=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:t,height:s,top:a,left:o}=i.current;if(e||!n.current||!t||!s)return;n.current.dataset.motionPopId=r;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${t}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[e]),s.createElement(oF,{isPresent:e,childRef:n,sizeRef:i},s.cloneElement(t,{ref:n}))}let oB=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{let l=nh(o$),u=(0,s.useId)(),c=(0,s.useMemo)(()=>({id:u,initial:e,isPresent:r,custom:i,onExitComplete:t=>{for(let e of(l.set(t,!0),l.values()))if(!e)return;n&&n()},register:t=>(l.set(t,!1),()=>l.delete(t))}),a?void 0:[r]);return(0,s.useMemo)(()=>{l.forEach((t,e)=>l.set(e,!1))},[r]),s.useEffect(()=>{r||l.size||!n||n()},[r]),"popLayout"===o&&(t=s.createElement(oI,{isPresent:r},t)),s.createElement(ra.Provider,{value:c},t)};function o$(){return new Map}let oU=t=>t.key||"",oq=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{var l;ny(!i,"Replace exitBeforeEnter with mode='wait'");let u=(0,s.useContext)(rb).forceRender||function(){let t=oO(),[e,r]=(0,s.useState)(0),n=(0,s.useCallback)(()=>{t.current&&r(e+1)},[e]),i=(0,s.useCallback)(()=>nb.postRender(n),[n]);return[i,e]}()[0],c=oO(),h=function(t){let e=[];return s.Children.forEach(t,t=>{(0,s.isValidElement)(t)&&e.push(t)}),e}(t),d=h,p=(0,s.useRef)(new Map).current,f=(0,s.useRef)(d),m=(0,s.useRef)(new Map).current,g=(0,s.useRef)(!0);if(rl(()=>{g.current=!1,function(t,e){t.forEach(t=>{let r=oU(t);e.set(r,t)})}(h,m),f.current=d}),l=()=>{g.current=!0,m.clear(),p.clear()},(0,s.useEffect)(()=>()=>l(),[]),g.current)return s.createElement(s.Fragment,null,d.map(t=>s.createElement(oB,{key:oU(t),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:o},t)));d=[...d];let y=f.current.map(oU),v=h.map(oU),x=y.length;for(let t=0;t<x;t++){let e=y[t];-1!==v.indexOf(e)||p.has(e)||p.set(e,void 0)}return"wait"===o&&p.size&&(d=[]),p.forEach((t,r)=>{if(-1!==v.indexOf(r))return;let i=m.get(r);if(!i)return;let l=y.indexOf(r),g=t;g||(g=s.createElement(oB,{key:oU(i),isPresent:!1,onExitComplete:()=>{m.delete(r),p.delete(r);let t=f.current.findIndex(t=>t.key===r);if(f.current.splice(t,1),!p.size){if(f.current=h,!1===c.current)return;u(),n&&n()}},custom:e,presenceAffectsLayout:a,mode:o},i),p.set(r,g)),d.splice(l,0,g)}),d=d.map(t=>{let e=t.key;return p.has(e)?t:s.createElement(oB,{key:oU(t),isPresent:!0,presenceAffectsLayout:a,mode:o},t)}),s.createElement(s.Fragment,null,p.size?d:d.map(t=>(0,s.cloneElement)(t)))};var oz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let oH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oW=(t,e)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:a,children:o,...l},u)=>(0,s.createElement)("svg",{ref:u,...oz,width:n,height:n,stroke:r,strokeWidth:a?24*Number(i)/Number(n):i,className:`lucide lucide-${oH(t)}`,...l},[...e.map(([t,e])=>(0,s.createElement)(t,e)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r},oQ=oW("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),oX=oW("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),oY=oW("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),oG=oW("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),oZ=oW("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),oK=oW("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),oJ=oW("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),o0=oW("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);var o1=r(5256);function o2({recommendations:t,isLoading:e}){let[r,n]=(0,s.useState)(null),a=async(t,e)=>{try{n(t),await E.h.post("/feedback",{content_id:t,interaction_type:e}),o1.default.success("Feedback recorded!")}catch(t){console.error("Failed to submit feedback:",t),o1.default.error("Failed to record feedback")}finally{n(null)}},o=t=>{let e=new Date(t),r=new Date,n=Math.floor((r.getTime()-e.getTime())/36e5);return n<1?"Just now":n<24?`${n}h ago`:n<168?`${Math.floor(n/24)}d ago`:e.toLocaleDateString()},l=t=>{switch(t.toLowerCase()){case"rss":return"\uD83D\uDCF0";case"substack":return"\uD83D\uDCE7";case"arxiv":return"\uD83D\uDCDA";case"youtube":return"\uD83D\uDCFA";default:return"\uD83D\uDCC4"}},u=t=>{switch(t.toLowerCase()){case"article":return"bg-blue-100 text-blue-800";case"podcast":return"bg-purple-100 text-purple-800";case"video":return"bg-red-100 text-red-800";case"paper":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e?i.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((t,e)=>(0,i.jsxs)("div",{className:"card",children:[i.jsx("div",{className:"loading-pulse h-4 w-3/4 mb-2"}),i.jsx("div",{className:"loading-pulse h-3 w-1/2 mb-4"}),i.jsx("div",{className:"loading-pulse h-20 w-full"})]},e))}):t.length?i.jsx("div",{className:"space-y-6",children:i.jsx(oq,{children:t.map((t,e)=>(0,i.jsxs)(oD.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*e},className:"card hover:shadow-md transition-shadow duration-200",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-lg",children:l(t.source)}),(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-secondary-900 line-clamp-2",children:t.title}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-secondary-600 mt-1",children:[t.author&&(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(oQ,{className:"h-3 w-3 mr-1"}),t.author]}),(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(oX,{className:"h-3 w-3 mr-1"}),o(t.published_at||t.created_at)]}),i.jsx("span",{className:"badge badge-secondary",children:t.source})]})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:`badge ${u(t.content_type)}`,children:t.content_type})})]}),t.summary&&i.jsx("p",{className:"text-secondary-700 mb-4 line-clamp-3",children:t.summary}),t.tags&&t.tags.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.tags.slice(0,5).map(t=>(0,i.jsxs)("span",{className:"badge badge-primary text-xs",children:[i.jsx(oY,{className:"h-3 w-3 mr-1"}),t.name]},t.id)),t.tags.length>5&&(0,i.jsxs)("span",{className:"text-xs text-secondary-500",children:["+",t.tags.length-5," more"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-secondary-200",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("button",{onClick:()=>a(t.id,"like"),disabled:r===t.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-green-50 hover:text-green-700 transition-colors disabled:opacity-50",children:[i.jsx(oG,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Like"})]}),(0,i.jsxs)("button",{onClick:()=>a(t.id,"dislike"),disabled:r===t.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-red-50 hover:text-red-700 transition-colors disabled:opacity-50",children:[i.jsx(oZ,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Dislike"})]}),(0,i.jsxs)("button",{onClick:()=>a(t.id,"share"),disabled:r===t.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-blue-50 hover:text-blue-700 transition-colors disabled:opacity-50",children:[i.jsx(oK,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Share"})]}),(0,i.jsxs)("button",{onClick:()=>a(t.id,"view"),disabled:r===t.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-purple-50 hover:text-purple-700 transition-colors disabled:opacity-50",children:[i.jsx(oJ,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"Save"})]})]}),(0,i.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"btn-primary text-sm",children:[i.jsx(o0,{className:"h-4 w-4 mr-1"}),"Read"]})]})]},t.id))})}):(0,i.jsxs)("div",{className:"card text-center py-12",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No recommendations yet"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:"We're learning your preferences. Check back soon for personalized content!"})]})}let o3=oW("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o5=oW("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),o6=oW("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o4=["artificial intelligence","machine learning","climate change","startups","technology","politics","science","business","health","education","environment","finance","psychology","philosophy","history","art","music","sports","travel","cooking"],o7=[{id:"articles",label:"Articles",icon:"\uD83D\uDCF0"},{id:"podcasts",label:"Podcasts",icon:"\uD83C\uDFA7"},{id:"videos",label:"Videos",icon:"\uD83D\uDCFA"},{id:"papers",label:"Academic Papers",icon:"\uD83D\uDCDA"}],o9=[{id:"conservative",label:"Conservative",description:"Stick to familiar topics"},{id:"balanced",label:"Balanced",description:"Mix of familiar and new topics"},{id:"adventurous",label:"Adventurous",description:"Explore diverse topics"}];function o8({isOpen:t,onClose:e}){let{user:r}=(0,a.a)(),[n,o]=(0,s.useState)(1),[l,u]=(0,s.useState)([]),[c,h]=(0,s.useState)(""),[d,p]=(0,s.useState)([]),[f,m]=(0,s.useState)("balanced"),[g,y]=(0,s.useState)("medium"),[v,x]=(0,s.useState)(!1),b=t=>{u(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},w=()=>{c.trim()&&!l.includes(c.trim())&&(u(t=>[...t,c.trim()]),h(""))},j=t=>{p(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},_=async()=>{if(0===l.length){o1.default.error("Please select at least one interest");return}if(0===d.length){o1.default.error("Please select at least one reading preference");return}x(!0);try{await E.h.post("/onboarding",{interests:l,reading_preferences:d,time_availability:g,exploration_level:f}),o1.default.success("Onboarding completed!"),e()}catch(t){console.error("Onboarding failed:",t),o1.default.error("Failed to complete onboarding")}finally{x(!1)}};return i.jsx(oq,{children:t&&i.jsx(oD.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:e,children:(0,i.jsxs)(oD.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:t=>t.stopPropagation(),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-secondary-900",children:["Welcome to Gator, ",r?.username,"!"]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-secondary-100 rounded-lg transition-colors",children:i.jsx(o3,{className:"h-5 w-5 text-secondary-600"})})]}),i.jsx("div",{className:"px-6 py-4",children:i.jsx("div",{className:"flex items-center space-x-2",children:[1,2,3].map(t=>(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n>=t?"bg-primary-600 text-white":"bg-secondary-200 text-secondary-600"}`,children:n>t?i.jsx(o5,{className:"h-4 w-4"}):t}),t<3&&i.jsx("div",{className:`w-12 h-1 mx-2 ${n>t?"bg-primary-600":"bg-secondary-200"}`})]},t))})}),(0,i.jsxs)("div",{className:"px-6 pb-6",children:[1===n&&(0,i.jsxs)(oD.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"What interests you?"}),i.jsx("p",{className:"text-secondary-600",children:"Select topics you're interested in. We'll use this to personalize your recommendations."})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o4.map(t=>i.jsx("button",{onClick:()=>b(t),className:`p-3 rounded-lg border-2 text-left transition-all ${l.includes(t)?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 hover:border-primary-300"}`,children:t},t))}),(0,i.jsxs)("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:"Add custom interest"}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:c,onChange:t=>h(t.target.value),placeholder:"Enter a topic...",className:"input-field flex-1",onKeyPress:t=>"Enter"===t.key&&w()}),i.jsx("button",{onClick:w,className:"btn-primary",children:"Add"})]})]}),l.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(t=>(0,i.jsxs)("span",{className:"badge badge-primary",children:[t,i.jsx("button",{onClick:()=>b(t),className:"ml-1 hover:text-primary-800",children:"\xd7"})]},t))})]}),2===n&&(0,i.jsxs)(oD.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"How do you like to consume content?"}),i.jsx("p",{className:"text-secondary-600",children:"Select your preferred content types."})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:o7.map(t=>(0,i.jsxs)("button",{onClick:()=>j(t.id),className:`p-4 rounded-lg border-2 text-center transition-all ${d.includes(t.id)?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 hover:border-primary-300"}`,children:[i.jsx("div",{className:"text-2xl mb-2",children:t.icon}),i.jsx("div",{className:"font-medium",children:t.label})]},t.id))})]}),3===n&&(0,i.jsxs)(oD.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"Customize your experience"}),i.jsx("p",{className:"text-secondary-600",children:"Tell us about your preferences for content discovery."})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Exploration Level"}),i.jsx("div",{className:"space-y-2",children:o9.map(t=>(0,i.jsxs)("button",{onClick:()=>m(t.id),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${f===t.id?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 hover:border-primary-300"}`,children:[i.jsx("div",{className:"font-medium",children:t.label}),i.jsx("div",{className:"text-sm text-secondary-600",children:t.description})]},t.id))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Time Availability"}),(0,i.jsxs)("select",{value:g,onChange:t=>y(t.target.value),className:"input-field",children:[i.jsx("option",{value:"low",children:"Low (5-15 minutes/day)"}),i.jsx("option",{value:"medium",children:"Medium (15-30 minutes/day)"}),i.jsx("option",{value:"high",children:"High (30+ minutes/day)"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-secondary-200",children:[i.jsx("button",{onClick:1===n?e:()=>{o(n-1)},className:"btn-secondary",children:1===n?"Skip":"Back"}),i.jsx("div",{className:"flex space-x-3",children:n<3?(0,i.jsxs)("button",{onClick:()=>{if(1===n&&0===l.length){o1.default.error("Please select at least one interest");return}if(2===n&&0===d.length){o1.default.error("Please select at least one reading preference");return}o(n+1)},className:"btn-primary",children:["Next",i.jsx(o6,{className:"h-4 w-4 ml-2"})]}):i.jsx("button",{onClick:_,disabled:v,className:"btn-primary",children:v?"Setting up...":"Complete Setup"})})]})]})})})}function lt({isOpen:t,onClose:e,onSwitchToRegister:r}){let{login:n}=(0,a.a)(),[o,l]=(0,s.useState)(""),[u,c]=(0,s.useState)(""),[h,d]=(0,s.useState)(!1),[p,f]=(0,s.useState)(""),m=async t=>{t.preventDefault(),d(!0),f("");try{await n(o,u),e(),l(""),c("")}catch(t){f(t.response?.data?.detail||"Login failed. Please try again.")}finally{d(!1)}};return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Log In"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[i.jsx("div",{children:i.jsx("input",{type:"email",value:o,onChange:t=>l(t.target.value),placeholder:"Email address",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),i.jsx("div",{children:i.jsx("input",{type:"password",value:u,onChange:t=>c(t.target.value),placeholder:"Password",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),p&&i.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:p}),i.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Logging in...":"Log In"})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:r,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Don't have an account? Sign up"})})]})]})}):null}function le({isOpen:t,onClose:e,onSwitchToLogin:r}){let{register:n}=(0,a.a)(),[o,l]=(0,s.useState)(""),[u,c]=(0,s.useState)(""),[h,d]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(""),x=async t=>{if(t.preventDefault(),g(!0),v(""),h!==p){v("Passwords do not match"),g(!1);return}try{await n(o,u,h),e(),l(""),c(""),d(""),f("")}catch(t){v(t.response?.data?.detail||"Registration failed. Please try again.")}finally{g(!1)}};return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Account"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[i.jsx("div",{children:i.jsx("input",{type:"email",value:o,onChange:t=>l(t.target.value),placeholder:"Email address",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),i.jsx("div",{children:i.jsx("input",{type:"text",value:u,onChange:t=>c(t.target.value),placeholder:"Username",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),i.jsx("div",{children:i.jsx("input",{type:"password",value:h,onChange:t=>d(t.target.value),placeholder:"Password",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),i.jsx("div",{children:i.jsx("input",{type:"password",value:p,onChange:t=>f(t.target.value),placeholder:"Confirm password",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),y&&i.jsx("div",{className:"p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:y}),i.jsx("button",{type:"submit",disabled:m,className:"w-full bg-green-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?"Creating account...":"Create Account"})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:r,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Already have an account? Log in"})})]})]})}):null}function lr({isOpen:t,onClose:e}){let[r,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(!1),[l,u]=(0,s.useState)(""),c=async t=>{t.preventDefault(),o(!0),u("");try{await new Promise(t=>setTimeout(t,1e3)),u("Password reset link sent to your email!"),setTimeout(()=>{e(),u(""),n("")},2e3)}catch(t){u("Failed to send reset link. Please try again.")}finally{o(!1)}};return t?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reset Password"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,i.jsxs)("div",{className:"p-6",children:[i.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),(0,i.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[i.jsx("div",{children:i.jsx("input",{type:"email",value:r,onChange:t=>n(t.target.value),placeholder:"Email address",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),l&&i.jsx("div",{className:`p-3 rounded-lg text-sm ${l.includes("sent")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:l}),(0,i.jsxs)("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a||!r,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Sending...":"Send Reset Link"})]})]})]})]})}):null}function ln(){let{user:t,isAuthenticated:e,login:r,register:n,logout:o}=(0,a.a)(),[l,u]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!1),[d,p]=(0,s.useState)(!1),[f,m]=(0,s.useState)(!1),{data:g,isLoading:y}=T({queryKey:["interests",t?.id],queryFn:()=>E.h.get("/interests").then(t=>t.data),enabled:!!e&&!!t}),{data:v,isLoading:x}=T({queryKey:["recommendations",t?.id],queryFn:()=>E.h.get("/recommendations").then(t=>t.data),enabled:!!e&&!!t});return((0,s.useEffect)(()=>{e&&t&&(!g?.data||0===g.data.length)&&u(!0)},[e,t,g]),e&&t)?(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50",children:[i.jsx("header",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("h1",{className:"text-2xl font-bold text-primary-600",children:"Gator"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",t.username,"!"]}),i.jsx("button",{onClick:o,className:"btn-secondary",children:"Sign Out"})]})]})})}),(0,i.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-primary-100 text-primary-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,i.jsxs)("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Interests"}),i.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:y?"...":g?.data?.length||0})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-secondary-100 text-secondary-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,i.jsxs)("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Recommendations"}),i.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:x?"...":v?.data?.length||0})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-accent-100 text-accent-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,i.jsxs)("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-600",children:"Active Time"}),i.jsx("p",{className:"text-2xl font-bold text-secondary-900",children:"2.5h"})]})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Recommendations"}),i.jsx("button",{className:"btn-primary",children:"View All"})]})}),i.jsx(o2,{recommendations:v?.data||[],isLoading:x})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Interests"}),i.jsx("button",{className:"btn-primary",children:"Add Interest"})]})}),i.jsx(oL,{interests:g?.data||[],isLoading:y})]})]})]}),l&&i.jsx(o8,{isOpen:l,onClose:()=>u(!1)})]}):(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:[(0,i.jsxs)("div",{className:"max-w-md w-full",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:"Gator"}),i.jsx("p",{className:"text-lg text-gray-600",children:"Curating What Your Curiosity Deserves."})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,i.jsxs)("form",{className:"space-y-4",children:[i.jsx("div",{children:i.jsx("input",{type:"email",placeholder:"Email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),i.jsx("div",{children:i.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),i.jsx("button",{type:"button",onClick:()=>h(!0),className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-200",children:"Log In"})]}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:()=>m(!0),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Forgot password?"})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("button",{onClick:()=>p(!0),className:"w-full bg-green-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-green-700 transition duration-200",children:"Create new account"})})]}),i.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:i.jsx("p",{children:"By continuing, you agree to Gator's Terms of Service and Privacy Policy."})})]}),c&&i.jsx(lt,{isOpen:c,onClose:()=>h(!1),onSwitchToRegister:()=>{h(!1),p(!0)}}),d&&i.jsx(le,{isOpen:d,onClose:()=>p(!1),onSwitchToLogin:()=>{p(!1),h(!0)}}),f&&i.jsx(lr,{isOpen:f,onClose:()=>m(!1)})]})}},3576:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Providers:()=>u});var n=r(3854),i=r(970),s=r(6214),a=r(6595),o=r(1016);let l=new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function u({children:t}){return(0,n.jsxs)(s.aH,{client:l,children:[n.jsx(o.H,{children:t}),n.jsx(a.t,{initialIsOpen:!1})]})}},1016:(t,e,r)=>{"use strict";r.d(e,{H:()=>o,a:()=>l});var n=r(3854),i=r(4218),s=r(9839);let a=(0,i.createContext)(void 0);function o({children:t}){let[e,r]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let t=localStorage.getItem("gator_token");t?(s.h.defaults.headers.common.Authorization=`Bearer ${t}`,u()):l(!1)},[]);let u=async()=>{try{let t=await s.h.get("/user/profile");r(t.data)}catch(t){console.error("Failed to fetch user:",t),localStorage.removeItem("gator_token"),delete s.h.defaults.headers.common.Authorization}finally{l(!1)}},c=async(t,e)=>{try{let r=await s.h.post("/login",{username:t,password:e}),{access_token:n}=r.data;localStorage.setItem("gator_token",n),s.h.defaults.headers.common.Authorization=`Bearer ${n}`,await u()}catch(t){throw console.error("Login failed:",t),t}},h=async(t,e,r)=>{try{await s.h.post("/register",{email:t,username:e,password:r}),await c(e,r)}catch(t){throw console.error("Registration failed:",t),t}};return n.jsx(a.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:o,login:c,logout:()=>{localStorage.removeItem("gator_token"),delete s.h.defaults.headers.common.Authorization,r(null)},register:h},children:t})}function l(){let t=(0,i.useContext)(a);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}},9839:(t,e,r)=>{"use strict";r.d(e,{h:()=>i});var n=r(3847);let i=n.Z.create({baseURL:"https://gator-api.up.railway.app",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(t=>{let e=localStorage.getItem("gator_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t)),i.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("gator_token"),window.location.href="/login"),Promise.reject(t)))},7897:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>p,metadata:()=>d});var n=r(4656),i=r(1326),s=r.n(i);r(7272);var a=r(5153);let o=(0,a.createProxy)(String.raw`/Users/lukeknarr/Downloads/Gator_Project/frontend/app/providers.tsx`),{__esModule:l,$$typeof:u}=o;o.default;let c=(0,a.createProxy)(String.raw`/Users/lukeknarr/Downloads/Gator_Project/frontend/app/providers.tsx#Providers`);var h=r(8204);let d={title:"Gator - Personalized Media Discovery",description:"Discover high-quality content tailored to your interests"};function p({children:t}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:s().className,children:(0,n.jsxs)(c,{children:[t,n.jsx(h.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}},3982:(t,e,r)=>{"use strict";r.r(e),r.d(e,{$$typeof:()=>a,__esModule:()=>s,default:()=>l});var n=r(5153);let i=(0,n.createProxy)(String.raw`/Users/lukeknarr/Downloads/Gator_Project/frontend/app/page.tsx`),{__esModule:s,$$typeof:a}=i,o=i.default,l=o},7272:()=>{}};var e=require("../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),n=e.X(0,[557],()=>r(8600));module.exports=n})();