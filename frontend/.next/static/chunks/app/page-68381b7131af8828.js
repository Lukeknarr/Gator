(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4522:function(e,s,t){Promise.resolve().then(t.bind(t,1797))},1797:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var a=t(7437),r=t(2265),i=t(9077),l=t(7870),n=t(272),c=t(1827),d=t(9409),o=t(9865),m=t(5790),x=t(5750),h=t(2482),u=t(9883),p=t(642);function y(e){let{interests:s,isLoading:t}=e,i=(0,r.useRef)(null),[n,c]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!s.length||!i.current)return;let e=s.map(e=>({id:e.id,label:e.topic,weight:e.weight,source:e.source})),t=[];for(let s=0;s<e.length;s++)for(let a=s+1;a<e.length;a++){let r=e[s],i=e[a],l=r.label.toLowerCase().split(" "),n=i.label.toLowerCase().split(" "),c=l.filter(e=>n.includes(e));c.length>0&&t.push({source:r.id,target:i.id,weight:c.length/Math.max(l.length,n.length)})}c({nodes:e,edges:t})},[s]),(0,r.useEffect)(()=>{if(!n||!i.current)return;let e=p.Ys(i.current);e.selectAll("*").remove();let s=p.A4v(n.nodes).force("link",p.Fsl(n.edges).id(e=>e.id).distance(100)).force("charge",p.q5i().strength(-300)).force("center",p.wqt(400,300)),t=e.append("g").selectAll("line").data(n.edges).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",e=>3*Math.sqrt(e.weight)),a=e.append("g").selectAll("g").data(n.nodes).enter().append("g").call(p.ohM().on("start",function(e,t){e.active||s.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(e,s){s.fx=e.x,s.fy=e.y}).on("end",function(e,t){e.active||s.alphaTarget(0),t.fx=null,t.fy=null}));return a.append("circle").attr("r",e=>8*Math.sqrt(e.weight)+5).attr("fill",e=>{switch(e.source){case"onboarding":return"#3b82f6";case"manual":return"#10b981";case"passive":return"#f59e0b";default:return"#6b7280"}}).attr("stroke","#fff").attr("stroke-width",2),a.append("text").text(e=>e.label).attr("text-anchor","middle").attr("dy",".35em").attr("font-size","12px").attr("fill","#374151").attr("font-weight","500"),s.on("tick",()=>{t.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),a.attr("transform",e=>"translate(".concat(e.x,",").concat(e.y,")"))}),()=>{s.stop()}},[n]),t)?(0,a.jsx)("div",{className:"card",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"loading-spinner"})})}):s.length?(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"card",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:"Your Interest Graph"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600",children:"Visualize how your interests connect and evolve"})]}),(0,a.jsx)("div",{className:"overflow-hidden rounded-lg border border-secondary-200",children:(0,a.jsx)("svg",{ref:i,width:"100%",height:"600",viewBox:"0 0 800 600",className:"w-full h-auto"})}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-secondary-600",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(0,a.jsx)("span",{children:"Onboarding"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),(0,a.jsx)("span",{children:"Manual"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),(0,a.jsx)("span",{children:"Passive"})]})]})]}):(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No interests yet"}),(0,a.jsx)("p",{className:"text-secondary-600 mb-4",children:"Add some interests to see your knowledge graph"}),(0,a.jsx)("button",{className:"btn-primary",children:"Add Interest"})]})})}var j=t(2167),f=t(7972),b=t(6141),g=t(3673),v=t(9868),N=t(4658),w=t(9764),k=t(9864),C=t(3711),D=t(9843),S=t(5925);function E(e){let{recommendations:s,isLoading:t}=e,[i,n]=(0,r.useState)(null),c=async(e,s)=>{try{n(e),await D.h.post("/feedback",{content_id:e,interaction_type:s}),S.default.success("Feedback recorded!")}catch(e){console.error("Failed to submit feedback:",e),S.default.error("Failed to record feedback")}finally{n(null)}},d=e=>{let s=new Date(e),t=new Date,a=Math.floor((t.getTime()-s.getTime())/36e5);return a<1?"Just now":a<24?"".concat(a,"h ago"):a<168?"".concat(Math.floor(a/24),"d ago"):s.toLocaleDateString()},o=e=>{switch(e.toLowerCase()){case"rss":return"\uD83D\uDCF0";case"substack":return"\uD83D\uDCE7";case"arxiv":return"\uD83D\uDCDA";case"youtube":return"\uD83D\uDCFA";default:return"\uD83D\uDCC4"}},m=e=>{switch(e.toLowerCase()){case"article":return"bg-blue-100 text-blue-800";case"podcast":return"bg-purple-100 text-purple-800";case"video":return"bg-red-100 text-red-800";case"paper":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return t?(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"loading-pulse h-4 w-3/4 mb-2"}),(0,a.jsx)("div",{className:"loading-pulse h-3 w-1/2 mb-4"}),(0,a.jsx)("div",{className:"loading-pulse h-20 w-full"})]},s))}):s.length?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(j.M,{children:s.map((e,s)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1*s},className:"card hover:shadow-md transition-shadow duration-200",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-lg",children:o(e.source)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 line-clamp-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-secondary-600 mt-1",children:[e.author&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),e.author]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.Z,{className:"h-3 w-3 mr-1"}),d(e.published_at||e.created_at)]}),(0,a.jsx)("span",{className:"badge badge-secondary",children:e.source})]})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"badge ".concat(m(e.content_type)),children:e.content_type})})]}),e.summary&&(0,a.jsx)("p",{className:"text-secondary-700 mb-4 line-clamp-3",children:e.summary}),e.tags&&e.tags.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,5).map(e=>(0,a.jsxs)("span",{className:"badge badge-primary text-xs",children:[(0,a.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),e.name]},e.id)),e.tags.length>5&&(0,a.jsxs)("span",{className:"text-xs text-secondary-500",children:["+",e.tags.length-5," more"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-secondary-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>c(e.id,"like"),disabled:i===e.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-green-50 hover:text-green-700 transition-colors disabled:opacity-50",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Like"})]}),(0,a.jsxs)("button",{onClick:()=>c(e.id,"dislike"),disabled:i===e.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-red-50 hover:text-red-700 transition-colors disabled:opacity-50",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Dislike"})]}),(0,a.jsxs)("button",{onClick:()=>c(e.id,"share"),disabled:i===e.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-blue-50 hover:text-blue-700 transition-colors disabled:opacity-50",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Share"})]}),(0,a.jsxs)("button",{onClick:()=>c(e.id,"view"),disabled:i===e.id,className:"flex items-center space-x-1 px-3 py-1 rounded-md hover:bg-purple-50 hover:text-purple-700 transition-colors disabled:opacity-50",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Save"})]})]}),(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"btn-primary text-sm",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 mr-1"}),"Read"]})]})]},e.id))})}):(0,a.jsxs)("div",{className:"card text-center py-12",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No recommendations yet"}),(0,a.jsx)("p",{className:"text-secondary-600 mb-4",children:"We're learning your preferences. Check back soon for personalized content!"})]})}var A=t(2549),_=t(2442),Z=t(8291),P=t(1344);let L=["artificial intelligence","machine learning","climate change","startups","technology","politics","science","business","health","education","environment","finance","psychology","philosophy","history","art","music","sports","travel","cooking"],I=[{id:"articles",label:"Articles",icon:"\uD83D\uDCF0"},{id:"podcasts",label:"Podcasts",icon:"\uD83C\uDFA7"},{id:"videos",label:"Videos",icon:"\uD83D\uDCFA"},{id:"papers",label:"Academic Papers",icon:"\uD83D\uDCDA"}],z=[{id:"conservative",label:"Conservative",description:"Stick to familiar topics"},{id:"balanced",label:"Balanced",description:"Mix of familiar and new topics"},{id:"adventurous",label:"Adventurous",description:"Explore diverse topics"}];function F(e){let{isOpen:s,onClose:t}=e,{user:i}=(0,P.a)(),[n,c]=(0,r.useState)(1),[d,o]=(0,r.useState)([]),[m,x]=(0,r.useState)(""),[h,u]=(0,r.useState)([]),[p,y]=(0,r.useState)("balanced"),[f,b]=(0,r.useState)("medium"),[g,v]=(0,r.useState)(!1),N=e=>{o(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},w=()=>{m.trim()&&!d.includes(m.trim())&&(o(e=>[...e,m.trim()]),x(""))},k=e=>{u(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},C=async()=>{if(0===d.length){S.default.error("Please select at least one interest");return}if(0===h.length){S.default.error("Please select at least one reading preference");return}v(!0);try{await D.h.post("/onboarding",{interests:d,reading_preferences:h,time_availability:f,exploration_level:p}),S.default.success("Onboarding completed!"),t()}catch(e){console.error("Onboarding failed:",e),S.default.error("Failed to complete onboarding")}finally{v(!1)}};return(0,a.jsx)(j.M,{children:s&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:(0,a.jsxs)(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-secondary-900",children:["Welcome to Gator, ",null==i?void 0:i.username,"!"]}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-secondary-100 rounded-lg transition-colors",children:(0,a.jsx)(A.Z,{className:"h-5 w-5 text-secondary-600"})})]}),(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(n>=e?"bg-primary-600 text-white":"bg-secondary-200 text-secondary-600"),children:n>e?(0,a.jsx)(_.Z,{className:"h-4 w-4"}):e}),e<3&&(0,a.jsx)("div",{className:"w-12 h-1 mx-2 ".concat(n>e?"bg-primary-600":"bg-secondary-200")})]},e))})}),(0,a.jsxs)("div",{className:"px-6 pb-6",children:[1===n&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"What interests you?"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Select topics you're interested in. We'll use this to personalize your recommendations."})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:L.map(e=>(0,a.jsx)("button",{onClick:()=>N(e),className:"p-3 rounded-lg border-2 text-left transition-all ".concat(d.includes(e)?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 hover:border-primary-300"),children:e},e))}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700",children:"Add custom interest"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"Enter a topic...",className:"input-field flex-1",onKeyPress:e=>"Enter"===e.key&&w()}),(0,a.jsx)("button",{onClick:w,className:"btn-primary",children:"Add"})]})]}),d.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(e=>(0,a.jsxs)("span",{className:"badge badge-primary",children:[e,(0,a.jsx)("button",{onClick:()=>N(e),className:"ml-1 hover:text-primary-800",children:"\xd7"})]},e))})]}),2===n&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"How do you like to consume content?"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Select your preferred content types."})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:I.map(e=>(0,a.jsxs)("button",{onClick:()=>k(e.id),className:"p-4 rounded-lg border-2 text-center transition-all ".concat(h.includes(e.id)?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 hover:border-primary-300"),children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:e.icon}),(0,a.jsx)("div",{className:"font-medium",children:e.label})]},e.id))})]}),3===n&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-secondary-900 mb-2",children:"Customize your experience"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Tell us about your preferences for content discovery."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Exploration Level"}),(0,a.jsx)("div",{className:"space-y-2",children:z.map(e=>(0,a.jsxs)("button",{onClick:()=>y(e.id),className:"w-full p-3 rounded-lg border-2 text-left transition-all ".concat(p===e.id?"border-primary-500 bg-primary-50 text-primary-700":"border-secondary-200 hover:border-primary-300"),children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),(0,a.jsx)("div",{className:"text-sm text-secondary-600",children:e.description})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Time Availability"}),(0,a.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"input-field",children:[(0,a.jsx)("option",{value:"low",children:"Low (5-15 minutes/day)"}),(0,a.jsx)("option",{value:"medium",children:"Medium (15-30 minutes/day)"}),(0,a.jsx)("option",{value:"high",children:"High (30+ minutes/day)"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-secondary-200",children:[(0,a.jsx)("button",{onClick:1===n?t:()=>{c(n-1)},className:"btn-secondary",children:1===n?"Skip":"Back"}),(0,a.jsx)("div",{className:"flex space-x-3",children:n<3?(0,a.jsxs)("button",{onClick:()=>{if(1===n&&0===d.length){S.default.error("Please select at least one interest");return}if(2===n&&0===h.length){S.default.error("Please select at least one reading preference");return}c(n+1)},className:"btn-primary",children:["Next",(0,a.jsx)(Z.Z,{className:"h-4 w-4 ml-2"})]}):(0,a.jsx)("button",{onClick:C,disabled:g,className:"btn-primary",children:g?"Setting up...":"Complete Setup"})})]})]})})})}function M(){var e,s;let{user:t,isAuthenticated:p}=(0,P.a)(),[j,f]=(0,r.useState)(!1),[b,g]=(0,r.useState)("recommendations"),{data:v,isLoading:N}=(0,i.useQuery)(["interests",null==t?void 0:t.id],()=>D.h.get("/interests"),{enabled:!!(null==t?void 0:t.id)}),{data:w,isLoading:k,refetch:C}=(0,i.useQuery)(["recommendations",null==t?void 0:t.id],()=>D.h.get("/recommendations"),{enabled:!!(null==t?void 0:t.id)});return((0,r.useEffect)(()=>{p&&t&&(!(null==v?void 0:v.data)||0===v.data.length)&&f(!0)},[p,t,v]),p)?(0,a.jsxs)("div",{className:"min-h-screen bg-secondary-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-secondary-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 text-primary-600 mr-3"}),(0,a.jsx)("h1",{className:"text-xl font-semibold text-secondary-900",children:"Gator"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{className:"btn-secondary",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,a.jsxs)("button",{className:"btn-secondary",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Settings"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:null==t?void 0:null===(e=t.username)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),(0,a.jsx)("span",{className:"text-secondary-700",children:null==t?void 0:t.username})]})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,a.jsx)(n.Z,{className:"h-6 w-6 text-primary-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Interests"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:N?"...":(null==v?void 0:null===(s=v.data)||void 0===s?void 0:s.length)||0})]})]})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)(o.Z,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Articles Read"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:"24"})]})]})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)(m.Z,{className:"h-6 w-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Exploration Score"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:"78%"})]})]})}),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)(x.Z,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-600",children:"Connections"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:"12"})]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-1 bg-white p-1 rounded-lg shadow-sm mb-8",children:[(0,a.jsx)("button",{onClick:()=>g("recommendations"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("recommendations"===b?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900"),children:"Recommendations"}),(0,a.jsx)("button",{onClick:()=>g("graph"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("graph"===b?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900"),children:"Interest Graph"}),(0,a.jsx)("button",{onClick:()=>g("explore"),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat("explore"===b?"bg-primary-100 text-primary-700":"text-secondary-600 hover:text-secondary-900"),children:"Explore"})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:["recommendations"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-secondary-900",children:"Your Recommendations"}),(0,a.jsxs)("button",{onClick:()=>C(),className:"btn-secondary",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,a.jsx)(E,{recommendations:(null==w?void 0:w.data)||[],isLoading:k})]}),"graph"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-secondary-900",children:"Interest Graph"}),(0,a.jsxs)("button",{className:"btn-primary",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Add Interest"]})]}),(0,a.jsx)(y,{interests:(null==v?void 0:v.data)||[],isLoading:N})]}),"explore"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-secondary-900",children:"Explore New Topics"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Discover Cross-Domain Connections"}),(0,a.jsx)("p",{className:"text-secondary-600 mb-4",children:"Find content that bridges your different interests"}),(0,a.jsx)("button",{className:"btn-primary",children:"Explore"})]})})]})]},b)]}),j&&(0,a.jsx)(F,{isOpen:j,onClose:()=>f(!1)})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-primary-600 mb-4",children:"Welcome to Gator"}),(0,a.jsx)("p",{className:"text-secondary-600 mb-8",children:"Please log in to access your personalized dashboard"}),(0,a.jsx)("button",{className:"btn-primary",children:"Sign In"})]})})}},1344:function(e,s,t){"use strict";t.d(s,{H:function(){return n},a:function(){return c}});var a=t(7437),r=t(2265),i=t(9843);let l=(0,r.createContext)(void 0);function n(e){let{children:s}=e,[t,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("gator_token");e?(i.h.defaults.headers.common.Authorization="Bearer ".concat(e),o()):d(!1)},[]);let o=async()=>{try{let e=await i.h.get("/user/profile");n(e.data)}catch(e){console.error("Failed to fetch user:",e),localStorage.removeItem("gator_token"),delete i.h.defaults.headers.common.Authorization}finally{d(!1)}},m=async(e,s)=>{try{let t=await i.h.post("/login",{username:e,password:s}),{access_token:a}=t.data;localStorage.setItem("gator_token",a),i.h.defaults.headers.common.Authorization="Bearer ".concat(a),await o()}catch(e){throw console.error("Login failed:",e),e}},x=async(e,s,t)=>{try{await i.h.post("/register",{email:e,username:s,password:t}),await m(s,t)}catch(e){throw console.error("Registration failed:",e),e}};return(0,a.jsx)(l.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:c,login:m,logout:()=>{localStorage.removeItem("gator_token"),delete i.h.defaults.headers.common.Authorization,n(null)},register:x},children:s})}function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9843:function(e,s,t){"use strict";t.d(s,{h:function(){return r}});var a=t(2173);let r=a.Z.create({baseURL:"https://gator-api.up.railway.app",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let s=localStorage.getItem("gator_token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var s;return(null===(s=e.response)||void 0===s?void 0:s.status)===401&&(localStorage.removeItem("gator_token"),window.location.href="/login"),Promise.reject(e)})}},function(e){e.O(0,[509,747,971,472,744],function(){return e(e.s=4522)}),_N_E=e.O()}]);